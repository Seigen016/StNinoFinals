(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36007,57590,e=>{"use strict";var a=e.i(7426),s=e.i(94179),t=e.i(53210),r=e.i(84175),l=e.i(12313),d=e.i(8720);function n({admin:e}){let[n,i]=(0,d.useState)(!1),{showAlert:c}=(0,r.useAlert)(),o=e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.name||e.email.split("@")[0],m=async()=>{i(!0);try{let{error:e}=await t.supabase.auth.signOut();if(e){console.error("Logout error:",e),c({message:"Error signing out. Please try again.",type:"error"}),i(!1);return}window.location.href="/"}catch(e){console.error("Logout error:",e),c({message:"Error signing out. Please try again.",type:"error"}),i(!1)}};return(0,a.jsx)("header",{className:"bg-gradient-to-r from-red-800 to-red-700 text-white shadow-lg sticky top-0 z-50",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(l.default,{src:"/logo.png",alt:"Sto. Niño Logo",width:50,height:50,className:"rounded-full bg-white p-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Admin Portal"}),(0,a.jsx)("p",{className:"text-red-100 text-sm",children:"Sto. Niño de Praga Academy"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:o}),(0,a.jsx)(s.Badge,{variant:"secondary",className:"bg-red-900 text-white hover:bg-red-900",children:"Administrator"})]}),(0,a.jsx)("button",{onClick:m,disabled:n,className:"px-4 py-2 bg-white text-red-800 rounded-lg hover:bg-red-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:n?"Logging out...":"Logout"})]})]})})})}function i(){let[e,a]=(0,d.useState)(null),[s,r]=(0,d.useState)(!0);return(0,d.useEffect)(()=>{(async()=>{try{let{data:e,error:s}=await t.supabase.auth.getUser();if(s){console.error("Auth error:",s),window.location.href="/";return}if(!e.user){window.location.href="/";return}let{data:r,error:l}=await t.supabase.from("users").select("*").eq("email",e.user.email||"").eq("role","admin").single();if(l||!r){console.error("Admin check error:",l),window.location.href="/";return}a(r)}catch(e){console.error("Unexpected error:",e),window.location.href="/"}finally{r(!1)}})()},[]),{admin:e,loading:s}}e.s(["AdminHeader",()=>n],36007),e.s(["useAuth",()=>i],57590)},44858,e=>{"use strict";let a=(0,e.i(11041).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],44858)},47627,e=>{"use strict";var a=e.i(7426),s=e.i(8720),t=e.i(47163);let r=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:(0,t.cn)("w-full caption-bottom text-sm",e),...s})}));r.displayName="Table";let l=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("thead",{ref:r,className:(0,t.cn)("[&_tr]:border-b",e),...s}));l.displayName="TableHeader";let d=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("tbody",{ref:r,className:(0,t.cn)("[&_tr:last-child]:border-0",e),...s}));d.displayName="TableBody",s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("tfoot",{ref:r,className:(0,t.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let n=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("tr",{ref:r,className:(0,t.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));n.displayName="TableRow";let i=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("th",{ref:r,className:(0,t.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));i.displayName="TableHead";let c=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("td",{ref:r,className:(0,t.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));c.displayName="TableCell",s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("caption",{ref:r,className:(0,t.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption",e.s(["Table",()=>r,"TableBody",()=>d,"TableCell",()=>c,"TableHead",()=>i,"TableHeader",()=>l,"TableRow",()=>n])},4233,e=>{"use strict";let a=(0,e.i(11041).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],4233)},96623,e=>{"use strict";let a=(0,e.i(11041).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>a],96623)},41517,e=>{"use strict";let a=(0,e.i(11041).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>a],41517)},52917,22024,61195,e=>{"use strict";var a=e.i(7426),s=e.i(8720),t=e.i(49707),r=e.i(94237),l=e.i(52640),d=e.i(47163);let n=t.Root;t.Trigger,t.Close;let i=t.Portal,c=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)(t.Overlay,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:r}));c.displayName=t.Overlay.displayName;let o=(0,r.cva)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),m=s.forwardRef(({side:e="right",className:s,children:r,...n},m)=>(0,a.jsxs)(i,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(t.Content,{ref:m,className:(0,d.cn)(o({side:e}),s),...n,children:[r,(0,a.jsxs)(t.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(l.X,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=t.Content.displayName;let h=({className:e,...s})=>(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});h.displayName="SheetHeader";let u=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)(t.Title,{ref:r,className:(0,d.cn)("text-lg font-semibold text-foreground",e),...s}));u.displayName=t.Title.displayName;let x=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)(t.Description,{ref:r,className:(0,d.cn)("text-sm text-muted-foreground",e),...s}));x.displayName=t.Description.displayName,e.s(["Sheet",()=>n,"SheetContent",()=>m,"SheetDescription",()=>x,"SheetHeader",()=>h,"SheetTitle",()=>u],52917);var b=e.i(11041);let j=(0,b.default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>j],22024);let g=(0,b.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>g],61195)},85714,e=>{"use strict";var a=e.i(7426),s=e.i(94179),t=e.i(67881),r=e.i(70065),l=e.i(30374),d=e.i(23750),n=e.i(10708),i=e.i(62870),c=e.i(52917),o=e.i(47627),m=e.i(84175),h=e.i(11678),u=e.i(44858),x=e.i(22024),b=e.i(4233),j=e.i(41517),g=e.i(61195),f=e.i(96623),p=e.i(21060),v=e.i(8720),N=e.i(36007),y=e.i(57590);function _(){let{admin:e,loading:_}=(0,y.useAuth)(),[w,S]=(0,v.useState)([]),[C,T]=(0,v.useState)(!1),[L,A]=(0,v.useState)(""),[k,D]=(0,v.useState)(!1),[I,R]=(0,v.useState)(!1),[E,H]=(0,v.useState)(!1),[B,$]=(0,v.useState)(null),{showAlert:P}=(0,m.useAlert)(),{showConfirm:F}=(0,h.useConfirm)(),[M,q]=(0,v.useState)({first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:"",date_of_birth:"",address:"",rfid:""}),[O,U]=(0,v.useState)({id:"",first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:"",date_of_birth:"",address:"",rfid:""}),[z,G]=(0,v.useState)(!1),[V,J]=(0,v.useState)(!1),[K,X]=(0,v.useState)(!1),[Q,W]=(0,v.useState)(""),[Y,Z]=(0,v.useState)(""),ee=async()=>{T(!0);try{let e=await fetch("/api/admin/students"),a=await e.json();a.success&&a.students&&S(a.students)}catch(e){console.error("Error fetching students:",e)}finally{T(!1)}};(0,v.useEffect)(()=>{ee()},[]);let ea=w.filter(e=>`${e.first_name} ${e.last_name} ${e.student_number}`.toLowerCase().includes(L.toLowerCase())),es=async e=>{e.preventDefault(),G(!0),W("");try{let e=`Student${Math.random().toString(36).slice(-8)}${Math.floor(100*Math.random())}`,a=await fetch("/api/admin/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...M,password:e})}),s=await a.json();if(!s.success)throw Error(s.error||"Failed to add student");await ee(),q({first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:"",date_of_birth:"",address:"",rfid:""}),D(!1),P({message:`Student added successfully!

Login Credentials:
Email: ${M.email}
Password: ${e}

Please save these credentials!`,type:"success"})}catch(e){W(e?.message||"Failed to add student.")}finally{G(!1)}},et=async e=>{e.preventDefault(),J(!0),Z("");try{let e=await fetch(`/api/admin/students/${O.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}),a=await e.json();if(!a.success)throw Error(a.error||"Failed to update student");await ee(),R(!1),P({message:"Student updated successfully!",type:"success"})}catch(e){Z(e?.message||"Failed to update student.")}finally{J(!1)}},er=async(e,a)=>{if(await F({message:`Are you sure you want to delete ${a}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"destructive"})){X(!0);try{let a=await fetch(`/api/admin/students/${e}`,{method:"DELETE"}),s=await a.json();if(!s.success)throw Error(s.error||"Failed to delete student");await ee(),P({message:"Student deleted successfully!",type:"success"})}catch(e){P({message:e?.message||"Failed to delete student.",type:"error"})}finally{X(!1)}}};return _||!e?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-red-800 border-t-transparent"}),(0,a.jsx)("p",{className:"mt-4 text-red-800 font-medium",children:"Loading..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50",children:[(0,a.jsx)(N.AdminHeader,{admin:e}),(0,a.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center gap-4",children:[(0,a.jsx)(p.default,{href:"/admin",children:(0,a.jsxs)(t.Button,{variant:"ghost",size:"sm",className:"hover:bg-red-50",children:[(0,a.jsx)(u.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-red-800",children:"Student Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage student records and information"})]}),(0,a.jsxs)(l.Dialog,{open:k,onOpenChange:D,children:[(0,a.jsx)(l.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(t.Button,{className:"bg-red-800 hover:bg-red-700",children:[(0,a.jsx)(f.UserPlus,{className:"w-4 h-4 mr-2"}),"Add Student"]})}),(0,a.jsxs)(l.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(l.DialogHeader,{children:[(0,a.jsx)(l.DialogTitle,{className:"text-red-800",children:"Add New Student"}),(0,a.jsx)(l.DialogDescription,{children:"Enter student information to create a new account"})]}),(0,a.jsxs)("form",{onSubmit:es,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"First Name *"}),(0,a.jsx)(d.Input,{value:M.first_name,onChange:e=>q({...M,first_name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Last Name *"}),(0,a.jsx)(d.Input,{value:M.last_name,onChange:e=>q({...M,last_name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Middle Name"}),(0,a.jsx)(d.Input,{value:M.middle_name,onChange:e=>q({...M,middle_name:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Student Number *"}),(0,a.jsx)(d.Input,{value:M.student_number,onChange:e=>q({...M,student_number:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Grade Level *"}),(0,a.jsxs)(i.Select,{value:M.grade_level,onValueChange:e=>q({...M,grade_level:e}),children:[(0,a.jsx)(i.SelectTrigger,{children:(0,a.jsx)(i.SelectValue,{placeholder:"Select grade"})}),(0,a.jsx)(i.SelectContent,{children:Array.from({length:12},(e,s)=>(0,a.jsxs)(i.SelectItem,{value:`Grade ${s+1}`,children:["Grade ",s+1]},s+1))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Section"}),(0,a.jsx)(d.Input,{value:M.section,onChange:e=>q({...M,section:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Email *"}),(0,a.jsx)(d.Input,{type:"email",value:M.email,onChange:e=>q({...M,email:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Phone Number"}),(0,a.jsx)(d.Input,{value:M.phone_number,onChange:e=>q({...M,phone_number:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Date of Birth"}),(0,a.jsx)(d.Input,{type:"date",value:M.date_of_birth,onChange:e=>q({...M,date_of_birth:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"RFID Card Number"}),(0,a.jsx)(d.Input,{value:M.rfid,onChange:e=>q({...M,rfid:e.target.value}),placeholder:"Enter RFID card number"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{children:"Address"}),(0,a.jsx)(d.Input,{value:M.address,onChange:e=>q({...M,address:e.target.value})})]})]}),Q&&(0,a.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded",children:Q}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(t.Button,{type:"button",variant:"outline",onClick:()=>D(!1),disabled:z,children:"Cancel"}),(0,a.jsx)(t.Button,{type:"submit",className:"bg-red-800 hover:bg-red-700",disabled:z,children:z?"Adding...":"Add Student"})]})]})]})]})]}),(0,a.jsx)(l.Dialog,{open:I,onOpenChange:R,children:(0,a.jsxs)(l.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(l.DialogHeader,{children:[(0,a.jsx)(l.DialogTitle,{className:"text-red-800",children:"Edit Student"}),(0,a.jsx)(l.DialogDescription,{children:"Update student information"})]}),(0,a.jsxs)("form",{onSubmit:et,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"First Name *"}),(0,a.jsx)(d.Input,{value:O.first_name,onChange:e=>U({...O,first_name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Last Name *"}),(0,a.jsx)(d.Input,{value:O.last_name,onChange:e=>U({...O,last_name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Middle Name"}),(0,a.jsx)(d.Input,{value:O.middle_name,onChange:e=>U({...O,middle_name:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Student Number *"}),(0,a.jsx)(d.Input,{value:O.student_number,onChange:e=>U({...O,student_number:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Grade Level *"}),(0,a.jsxs)(i.Select,{value:O.grade_level,onValueChange:e=>U({...O,grade_level:e}),children:[(0,a.jsx)(i.SelectTrigger,{children:(0,a.jsx)(i.SelectValue,{})}),(0,a.jsx)(i.SelectContent,{children:Array.from({length:12},(e,s)=>(0,a.jsxs)(i.SelectItem,{value:`Grade ${s+1}`,children:["Grade ",s+1]},s+1))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Section"}),(0,a.jsx)(d.Input,{value:O.section,onChange:e=>U({...O,section:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Email *"}),(0,a.jsx)(d.Input,{type:"email",value:O.email,onChange:e=>U({...O,email:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Phone Number"}),(0,a.jsx)(d.Input,{value:O.phone_number,onChange:e=>U({...O,phone_number:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Date of Birth"}),(0,a.jsx)(d.Input,{type:"date",value:O.date_of_birth,onChange:e=>U({...O,date_of_birth:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"RFID Card Number"}),(0,a.jsx)(d.Input,{value:O.rfid,onChange:e=>U({...O,rfid:e.target.value}),placeholder:"Enter RFID card number"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{children:"Address"}),(0,a.jsx)(d.Input,{value:O.address,onChange:e=>U({...O,address:e.target.value})})]})]}),Y&&(0,a.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded",children:Y}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(t.Button,{type:"button",variant:"outline",onClick:()=>R(!1),disabled:V,children:"Cancel"}),(0,a.jsx)(t.Button,{type:"submit",className:"bg-red-800 hover:bg-red-700",disabled:V,children:V?"Updating...":"Update Student"})]})]})]})}),(0,a.jsx)(c.Sheet,{open:E,onOpenChange:H,children:(0,a.jsxs)(c.SheetContent,{side:"right",className:"w-full sm:max-w-lg overflow-y-auto",children:[(0,a.jsxs)(c.SheetHeader,{children:[(0,a.jsx)(c.SheetTitle,{className:"text-red-800",children:"Student Details"}),(0,a.jsx)(c.SheetDescription,{children:"View complete student information"})]}),B&&(0,a.jsx)("div",{className:"space-y-6 mt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),(0,a.jsx)("p",{className:"text-base font-semibold",children:`${B.first_name} ${B.middle_name||""} ${B.last_name}`.trim()})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Student Number"}),(0,a.jsx)("p",{className:"text-base font-mono",children:B.student_number})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Grade Level"}),(0,a.jsx)("p",{className:"text-base",children:B.grade_level})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Section"}),(0,a.jsx)("p",{className:"text-base",children:B.section||"N/A"})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Email"}),(0,a.jsx)("p",{className:"text-base",children:B.email})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Phone Number"}),(0,a.jsx)("p",{className:"text-base",children:B.phone_number||"N/A"})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date of Birth"}),(0,a.jsx)("p",{className:"text-base",children:B.date_of_birth||"N/A"})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"RFID Card"}),B.rfid?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(s.Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Assigned"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 font-mono",children:B.rfid})]}):(0,a.jsx)(s.Badge,{variant:"outline",className:"bg-gray-50 text-gray-600",children:"Not Assigned"})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),(0,a.jsx)(s.Badge,{className:"bg-green-100 text-green-800",children:B.status})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Address"}),(0,a.jsx)("p",{className:"text-base",children:B.address||"N/A"})]})]})})]})}),(0,a.jsxs)(r.Card,{className:"shadow-md",children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(r.CardTitle,{className:"text-red-800",children:["All Students (",ea.length,")"]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(d.Input,{placeholder:"Search students...",className:"pl-10 w-64",value:L,onChange:e=>A(e.target.value)})]})})]})}),(0,a.jsx)(r.CardContent,{children:C?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-800 mx-auto"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Loading students..."})]}):(0,a.jsxs)(o.Table,{children:[(0,a.jsx)(o.TableHeader,{children:(0,a.jsxs)(o.TableRow,{children:[(0,a.jsx)(o.TableHead,{children:"Student Number"}),(0,a.jsx)(o.TableHead,{children:"Name"}),(0,a.jsx)(o.TableHead,{children:"Grade Level"}),(0,a.jsx)(o.TableHead,{children:"Section"}),(0,a.jsx)(o.TableHead,{children:"RFID"}),(0,a.jsx)(o.TableHead,{children:"Email"}),(0,a.jsx)(o.TableHead,{children:"Status"}),(0,a.jsx)(o.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(o.TableBody,{children:ea.length>0?ea.map(e=>(0,a.jsxs)(o.TableRow,{children:[(0,a.jsx)(o.TableCell,{className:"font-medium",children:e.student_number}),(0,a.jsx)(o.TableCell,{children:`${e.first_name} ${e.last_name}`}),(0,a.jsx)(o.TableCell,{children:e.grade_level}),(0,a.jsx)(o.TableCell,{children:e.section||"N/A"}),(0,a.jsx)(o.TableCell,{children:e.rfid?(0,a.jsx)(s.Badge,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:e.rfid}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Not assigned"})}),(0,a.jsx)(o.TableCell,{children:e.email}),(0,a.jsx)(o.TableCell,{children:(0,a.jsx)(s.Badge,{className:"bg-green-100 text-green-800",children:e.status||"Active"})}),(0,a.jsx)(o.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(t.Button,{variant:"outline",size:"sm",onClick:()=>{$(e),H(!0)},children:(0,a.jsx)(b.Eye,{className:"w-4 h-4"})}),(0,a.jsx)(t.Button,{variant:"outline",size:"sm",onClick:()=>{U({id:e.id,first_name:e.first_name,last_name:e.last_name,middle_name:e.middle_name||"",student_number:e.student_number,grade_level:e.grade_level,section:e.section||"",email:e.email,phone_number:e.phone_number||"",date_of_birth:e.date_of_birth||"",address:e.address||"",rfid:e.rfid||""}),R(!0)},children:(0,a.jsx)(x.Edit,{className:"w-4 h-4"})}),(0,a.jsx)(t.Button,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>er(e.id,`${e.first_name} ${e.last_name}`),disabled:K,children:(0,a.jsx)(g.Trash2,{className:"w-4 h-4"})})]})})]},e.id)):(0,a.jsx)(o.TableRow,{children:(0,a.jsx)(o.TableCell,{colSpan:8,className:"text-center text-gray-500 py-8",children:"No students found"})})})]})})]})]})]})}e.s(["default",()=>_])}]);