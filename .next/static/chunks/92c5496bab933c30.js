(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4233,e=>{"use strict";let t=(0,e.i(11041).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],4233)},96623,e=>{"use strict";let t=(0,e.i(11041).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>t],96623)},27341,39065,e=>{"use strict";var t=e.i(7426),s=e.i(8720),a=e.i(75453),r=e.i(80557),l=e.i(8947),n=e.i(56635),i=e.i(97915),d=e.i(89558),c=e.i(94156),o=e.i(90864),h=e.i(54187),x="rovingFocusGroup.onEntryFocus",u={bubbles:!1,cancelable:!0},m="RovingFocusGroup",[g,p,j]=(0,l.createCollection)(m),[v,f]=(0,r.createContextScope)(m,[j]),[b,y]=v(m),N=s.forwardRef((e,s)=>(0,t.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(C,{...e,ref:s})})}));N.displayName=m;var C=s.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:l,orientation:i,loop:g=!1,dir:j,currentTabStopId:v,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:y,onEntryFocus:N,preventScrollOnEntryFocus:C=!1,...w}=e,S=s.useRef(null),k=(0,n.useComposedRefs)(r,S),A=(0,h.useDirection)(j),[D,P]=(0,o.useControllableState)({prop:v,defaultProp:f??null,onChange:y,caller:m}),[I,R]=s.useState(!1),E=(0,c.useCallbackRef)(N),H=p(l),F=s.useRef(!1),[L,M]=s.useState(0);return s.useEffect(()=>{let e=S.current;if(e)return e.addEventListener(x,E),()=>e.removeEventListener(x,E)},[E]),(0,t.jsx)(b,{scope:l,orientation:i,dir:A,loop:g,currentTabStopId:D,onItemFocus:s.useCallback(e=>P(e),[P]),onItemShiftTab:s.useCallback(()=>R(!0),[]),onFocusableItemAdd:s.useCallback(()=>M(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>M(e=>e-1),[]),children:(0,t.jsx)(d.Primitive.div,{tabIndex:I||0===L?-1:0,"data-orientation":i,...w,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,()=>{F.current=!0}),onFocus:(0,a.composeEventHandlers)(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(x,u);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=H().filter(e=>e.focusable);T([e.find(e=>e.active),e.find(e=>e.id===D),...e].filter(Boolean).map(e=>e.ref.current),C)}}F.current=!1}),onBlur:(0,a.composeEventHandlers)(e.onBlur,()=>R(!1))})})}),w="RovingFocusGroupItem",S=s.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:l,focusable:n=!0,active:c=!1,tabStopId:o,children:h,...x}=e,u=(0,i.useId)(),m=o||u,j=y(w,l),v=j.currentTabStopId===m,f=p(l),{onFocusableItemAdd:b,onFocusableItemRemove:N,currentTabStopId:C}=j;return s.useEffect(()=>{if(n)return b(),()=>N()},[n,b,N]),(0,t.jsx)(g.ItemSlot,{scope:l,id:m,focusable:n,active:c,children:(0,t.jsx)(d.Primitive.span,{tabIndex:v?0:-1,"data-orientation":j.orientation,...x,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{n?j.onItemFocus(m):e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>j.onItemFocus(m)),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void j.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,s){var a;let r=(a=e.key,"rtl"!==s?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return k[r]}(e,j.orientation,j.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){var s,a;"prev"===t&&r.reverse();let l=r.indexOf(e.currentTarget);r=j.loop?(s=r,a=l+1,s.map((e,t)=>s[(a+t)%s.length])):r.slice(l+1)}setTimeout(()=>T(r))}}),children:"function"==typeof h?h({isCurrentTabStop:v,hasTabStop:null!=C}):h})})});S.displayName=w;var k={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T(e,t=!1){let s=document.activeElement;for(let a of e)if(a===s||(a.focus({preventScroll:t}),document.activeElement!==s))return}var A=e.i(97772),D="Tabs",[P,I]=(0,r.createContextScope)(D,[f]),R=f(),[E,H]=P(D),F=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:r,onValueChange:l,defaultValue:n,orientation:c="horizontal",dir:x,activationMode:u="automatic",...m}=e,g=(0,h.useDirection)(x),[p,j]=(0,o.useControllableState)({prop:r,onChange:l,defaultProp:n??"",caller:D});return(0,t.jsx)(E,{scope:a,baseId:(0,i.useId)(),value:p,onValueChange:j,orientation:c,dir:g,activationMode:u,children:(0,t.jsx)(d.Primitive.div,{dir:g,"data-orientation":c,...m,ref:s})})});F.displayName=D;var L="TabsList",M=s.forwardRef((e,s)=>{let{__scopeTabs:a,loop:r=!0,...l}=e,n=H(L,a),i=R(a);return(0,t.jsx)(N,{asChild:!0,...i,orientation:n.orientation,dir:n.dir,loop:r,children:(0,t.jsx)(d.Primitive.div,{role:"tablist","aria-orientation":n.orientation,...l,ref:s})})});M.displayName=L;var $="TabsTrigger",B=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:l,disabled:n=!1,...i}=e,c=H($,r),o=R(r),h=V(c.baseId,l),x=U(c.baseId,l),u=l===c.value;return(0,t.jsx)(S,{asChild:!0,...o,focusable:!n,active:u,children:(0,t.jsx)(d.Primitive.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":x,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:h,...i,ref:s,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(l)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(l)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;u||n||!e||c.onValueChange(l)})})})});B.displayName=$;var O="TabsContent",_=s.forwardRef((e,a)=>{let{__scopeTabs:r,value:l,forceMount:n,children:i,...c}=e,o=H(O,r),h=V(o.baseId,l),x=U(o.baseId,l),u=l===o.value,m=s.useRef(u);return s.useEffect(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(A.Presence,{present:n||u,children:({present:s})=>(0,t.jsx)(d.Primitive.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":h,hidden:!s,id:x,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:m.current?"0s":void 0},children:s&&i})})});function V(e,t){return`${e}-trigger-${t}`}function U(e,t){return`${e}-content-${t}`}_.displayName=O;var G=e.i(47163);let K=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(M,{ref:a,className:(0,G.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));K.displayName=M.displayName;let z=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(B,{ref:a,className:(0,G.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));z.displayName=B.displayName;let q=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(_,{ref:a,className:(0,G.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));q.displayName=_.displayName,e.s(["Tabs",()=>F,"TabsContent",()=>q,"TabsList",()=>K,"TabsTrigger",()=>z],27341);let J=(0,e.i(11041).default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);e.s(["BookOpen",()=>J],39065)},66662,e=>{"use strict";let t=(0,e.i(11041).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],66662)},51883,e=>{"use strict";let t=(0,e.i(11041).default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);e.s(["LogOut",()=>t],51883)},95719,e=>{"use strict";let t=(0,e.i(11041).default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);e.s(["Home",()=>t],95719)},81362,e=>{"use strict";let t=(0,e.i(11041).default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);e.s(["LayoutDashboard",()=>t],81362)},34317,e=>{"use strict";let t=(0,e.i(11041).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],34317)},76195,e=>{"use strict";let t=(0,e.i(11041).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["default",()=>t])},3881,e=>{"use strict";var t=e.i(76195);e.s(["Calendar",()=>t.default])},87336,e=>{"use strict";var t=e.i(7426),s=e.i(8720),a=e.i(80557),r=e.i(89558),l="Progress",[n,i]=(0,a.createContextScope)(l),[d,c]=n(l),o=s.forwardRef((e,s)=>{var a,l;let{__scopeProgress:n,value:i=null,max:c,getValueLabel:o=u,...h}=e;(c||0===c)&&!p(c)&&console.error((a=`${c}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=p(c)?c:100;null===i||j(i,x)||console.error((l=`${i}`,`Invalid prop \`value\` of value \`${l}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let v=j(i,x)?i:null,f=g(v)?o(v,x):void 0;return(0,t.jsx)(d,{scope:n,value:v,max:x,children:(0,t.jsx)(r.Primitive.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":g(v)?v:void 0,"aria-valuetext":f,role:"progressbar","data-state":m(v,x),"data-value":v??void 0,"data-max":x,...h,ref:s})})});o.displayName=l;var h="ProgressIndicator",x=s.forwardRef((e,s)=>{let{__scopeProgress:a,...l}=e,n=c(h,a);return(0,t.jsx)(r.Primitive.div,{"data-state":m(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...l,ref:s})});function u(e,t){return`${Math.round(e/t*100)}%`}function m(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function g(e){return"number"==typeof e}function p(e){return g(e)&&!isNaN(e)&&e>0}function j(e,t){return g(e)&&!isNaN(e)&&e<=t&&e>=0}x.displayName=h;var v=e.i(47163);let f=s.forwardRef(({className:e,value:s,...a},r)=>(0,t.jsx)(o,{ref:r,className:(0,v.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:(0,t.jsx)(x,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));f.displayName=o.displayName,e.s(["Progress",()=>f],87336)},61215,(e,t,s)=>{t.exports=e.r(68393)},89421,32619,75605,e=>{"use strict";var t=e.i(11041);let s=(0,t.default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);e.s(["MessageSquare",()=>s],89421);let a=(0,t.default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>a],32619);let r=(0,t.default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>r],75605)},19703,e=>{"use strict";var t=e.i(7426),s=e.i(67881),a=e.i(70065),r=e.i(30374),l=e.i(23750),n=e.i(10708),i=e.i(62870),d=e.i(27341),c=e.i(53210),o=e.i(84175),h=e.i(11678),x=e.i(3881),u=e.i(66662),m=e.i(4233),g=e.i(95719),p=e.i(81362),j=e.i(51883),v=e.i(89421),f=e.i(34317),b=e.i(96623),y=e.i(12313),N=e.i(21060),C=e.i(61215),w=e.i(8720),S=e.i(94179),k=e.i(87336),T=e.i(44057),A=e.i(39065),D=e.i(32619),P=e.i(75605);function I({children:e,childStats:s,childGrades:r,childAttendance:l,announcements:n}){let[d,c]=(0,w.useState)(e.length>0?String(e[0].id):""),o=e.find(e=>String(e.id)===d),h=d?s[d]:null,m=d&&r[d]||[],g=d&&l[d]||[],p=d&&n[d]||[],j=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return 0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(f.User,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Children Linked"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Add your children to view their academic progress"})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(a.Card,{className:"bg-gradient-to-r from-blue-50 to-indigo-50",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"Parent Portal"}),(0,t.jsx)(a.CardDescription,{children:"Monitor your child's academic journey"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,t.jsxs)("button",{className:"p-3 bg-white border border-blue-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-all",children:[(0,t.jsx)(A.BookOpen,{className:"h-6 w-6 mx-auto mb-1 text-blue-600"}),(0,t.jsx)("p",{className:"text-xs font-medium",children:"Check Grades"})]}),(0,t.jsxs)("button",{className:"p-3 bg-white border border-purple-200 rounded-lg hover:bg-purple-50 hover:border-purple-300 transition-all",children:[(0,t.jsx)(P.TrendingUp,{className:"h-6 w-6 mx-auto mb-1 text-purple-600"}),(0,t.jsx)("p",{className:"text-xs font-medium",children:"View Progress"})]}),(0,t.jsxs)("button",{className:"p-3 bg-white border border-green-200 rounded-lg hover:bg-green-50 hover:border-green-300 transition-all",children:[(0,t.jsx)(x.Calendar,{className:"h-6 w-6 mx-auto mb-1 text-green-600"}),(0,t.jsx)("p",{className:"text-xs font-medium",children:"Enrollment Status"})]})]})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"Select Child"}),(0,t.jsx)(a.CardDescription,{children:"View academic progress and attendance"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)(i.Select,{value:d,onValueChange:c,children:[(0,t.jsx)(i.SelectTrigger,{className:"w-full",children:(0,t.jsx)(i.SelectValue,{placeholder:"Select a child"})}),(0,t.jsx)(i.SelectContent,{children:e.map(e=>(0,t.jsxs)(i.SelectItem,{value:String(e.id),children:[e.name," - ",e.grade_level," ",e.section]},e.id))})]})})]}),o&&h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(a.Card,{className:"border-l-4 border-l-blue-500",children:[(0,t.jsxs)(a.CardHeader,{className:"pb-3",children:[(0,t.jsx)(a.CardDescription,{children:"Current GPA"}),(0,t.jsx)(a.CardTitle,{className:"text-3xl",children:h.gpa.toFixed(2)})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,t.jsx)(P.TrendingUp,{className:"mr-1 h-4 w-4"}),"Academic Performance"]})})]}),(0,t.jsxs)(a.Card,{className:"border-l-4 border-l-green-500",children:[(0,t.jsxs)(a.CardHeader,{className:"pb-3",children:[(0,t.jsx)(a.CardDescription,{children:"Attendance Rate"}),(0,t.jsxs)(a.CardTitle,{className:"text-3xl",children:[h.attendanceRate.toFixed(1),"%"]})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)(k.Progress,{value:h.attendanceRate,className:"h-2"})})]}),(0,t.jsxs)(a.Card,{className:"border-l-4 border-l-purple-500",children:[(0,t.jsxs)(a.CardHeader,{className:"pb-3",children:[(0,t.jsx)(a.CardDescription,{children:"Behavior Score"}),(0,t.jsxs)(a.CardTitle,{className:"text-3xl",children:[h.behaviorScore.toFixed(0),"/100"]})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)(k.Progress,{value:h.behaviorScore,className:"h-2"})})]}),(0,t.jsxs)(a.Card,{className:"border-l-4 border-l-orange-500",children:[(0,t.jsxs)(a.CardHeader,{className:"pb-3",children:[(0,t.jsx)(a.CardDescription,{children:"Pending Tasks"}),(0,t.jsx)(a.CardTitle,{className:"text-3xl",children:h.pendingTasks})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,t.jsx)(T.AlertCircle,{className:"mr-1 h-4 w-4"}),"Assignments Due"]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(A.BookOpen,{className:"h-5 w-5"}),"Recent Grades"]}),(0,t.jsx)(a.CardDescription,{children:"Latest academic results"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[m.slice(0,6).map((e,s)=>{let a;return(0,t.jsxs)("div",{className:"flex items-center justify-between border-b pb-2 last:border-0",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-medium text-sm",children:e.subject}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Updated ",j(e.lastUpdated)]})]}),(0,t.jsx)("span",{className:`text-2xl font-bold ${(a=parseFloat(e.grade))>=95?"text-green-600":a>=90?"text-blue-600":a>=85?"text-yellow-600":"text-red-600"}`,children:e.grade})]},s)}),0===m.length&&(0,t.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No grades available"})]})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.Calendar,{className:"h-5 w-5"}),"Recent Attendance"]}),(0,t.jsx)(a.CardDescription,{children:"Last 7 days"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[g.slice(0,7).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between border-b pb-2 last:border-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(e=>{switch(e){case"present":return(0,t.jsx)(D.CheckCircle2,{className:"h-5 w-5 text-green-600"});case"late":return(0,t.jsx)(u.Clock,{className:"h-5 w-5 text-yellow-600"});case"absent":return(0,t.jsx)(T.AlertCircle,{className:"h-5 w-5 text-red-600"});default:return null}})(e.status),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm capitalize",children:e.status}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:j(e.date)})]})]}),e.time&&(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.time})]},s)),0===g.length&&(0,t.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No attendance records"})]})})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.MessageSquare,{className:"h-5 w-5"}),"School Announcements"]}),(0,t.jsx)(a.CardDescription,{children:"Important updates from teachers and school"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[p.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[(0,t.jsx)("div",{className:`mt-1 rounded-full p-1 ${"high"===e.priority?"bg-red-100":"medium"===e.priority?"bg-yellow-100":"bg-blue-100"}`,children:(0,t.jsx)(T.AlertCircle,{className:`h-4 w-4 ${"high"===e.priority?"text-red-600":"medium"===e.priority?"text-yellow-600":"text-blue-600"}`})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,t.jsx)("h4",{className:"font-medium",children:e.title}),(0,t.jsx)(S.Badge,{variant:"high"===e.priority?"destructive":"secondary",children:e.priority})]}),e.content&&(0,t.jsx)("p",{className:"text-sm text-gray-700 mt-1 mb-2",children:e.content}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["From: ",e.from||"School Admin"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:j(e.date)})]})]},e.id)),0===p.length&&(0,t.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No announcements"})]})})]})]})]})}function R(){let e=(0,C.useRouter)(),[S,k]=(0,w.useState)(null),[T,A]=(0,w.useState)([]),[D,P]=(0,w.useState)("dashboard"),[R,E]=(0,w.useState)(!0),[H,F]=(0,w.useState)(!1),[L,M]=(0,w.useState)(!1),[$,B]=(0,w.useState)(!1),[O,_]=(0,w.useState)(""),[V,U]=(0,w.useState)("parent"),[G,K]=(0,w.useState)(""),{showAlert:z}=(0,o.useAlert)(),{showConfirm:q}=(0,h.useConfirm)(),[J,Y]=(0,w.useState)({}),[W,X]=(0,w.useState)({}),[Q,Z]=(0,w.useState)({}),[ee,et]=(0,w.useState)({}),es=async e=>{try{let t=await fetch(`/api/parent/children?parent_id=${e}`),s=await t.json();s.success&&s.children&&(A(s.children),localStorage.setItem("parentChildren",JSON.stringify(s.children)),await ea(s.children))}catch(e){console.error("Error fetching children:",e)}},ea=async e=>{F(!0);let t={},s={},a={},r={};await Promise.all(e.map(async e=>{let l=String(e.id);try{let e=await fetch(`/api/parent/student-stats?student_id=${l}`),s=await e.json();s.success?t[l]=s.stats:t[l]={gpa:0,attendanceRate:0,behaviorScore:0,pendingTasks:0}}catch(e){console.error(`Error fetching stats for child ${l}:`,e),t[l]={gpa:0,attendanceRate:0,behaviorScore:0,pendingTasks:0}}try{let e=await fetch(`/api/parent/student-grades?student_id=${l}`),t=await e.json();t.success?s[l]=t.grades:s[l]=[]}catch(e){console.error(`Error fetching grades for child ${l}:`,e),s[l]=[]}try{let e=await fetch(`/api/parent/student-attendance?student_id=${l}&days=7`),t=await e.json();t.success?a[l]=t.attendance:a[l]=[]}catch(e){console.error(`Error fetching attendance for child ${l}:`,e),a[l]=[]}try{let e=await fetch(`/api/parent/announcements?student_id=${l}`),t=await e.json();t.success?r[l]=t.announcements:r[l]=[]}catch(e){console.error(`Error fetching announcements for child ${l}:`,e),r[l]=[]}})),Y(t),X(s),Z(a),et(r),F(!1)};(0,w.useEffect)(()=>{let t=localStorage.getItem("parent"),s=localStorage.getItem("parentChildren");if(!t)return void e.push("/");try{let e=JSON.parse(t);if(k(e),s){let e=JSON.parse(s);A(e),ea(e)}e.id&&es(e.id)}catch(t){console.error("Error parsing parent data:",t),e.push("/")}finally{E(!1)}},[e]);let er=async()=>{await q({message:"Are you sure you want to log out?",confirmText:"Logout",cancelText:"Cancel",variant:"destructive"})&&(await c.supabase.auth.signOut(),localStorage.removeItem("parent"),localStorage.removeItem("parentChildren"),e.push("/"))},el=async()=>{if(!O.trim())return void K("Please enter a student number");M(!0),K("");try{let e=await fetch("/api/parent/link-student",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parent_id:S.id,student_number:O.trim(),relationship_type:V})}),t=await e.json();if(!e.ok||!t.success)return void K(t.error||"Failed to add student");let s={id:t.student.id,name:t.student.name,student_id:t.student.student_number,grade_level:t.student.grade_level,section:t.student.section,email:t.student.email},a=[...T,s];A(a),localStorage.setItem("parentChildren",JSON.stringify(a)),_(""),U("parent"),B(!1),S.id&&await es(S.id),z({message:"Student added successfully!",type:"success"})}catch(e){console.error("Error adding student:",e),K("Failed to add student. Please try again.")}finally{M(!1)}},en=e=>{localStorage.setItem("student",JSON.stringify(e)),window.open("/student?parentView=true","_blank")};return R?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-red-800 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading parent dashboard..."})]})}):S&&0!==T.length?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-md border-b-4 border-red-800",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(y.default,{src:"/logo.png",alt:"Sto Ni単o de Praga Academy Logo",width:60,height:60,className:"rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-red-800",children:"Parent Dashboard"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Sto Ni単o de Praga Academy"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(r.Dialog,{open:$,onOpenChange:B,children:[(0,t.jsx)(r.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-600 hover:text-white bg-transparent",children:[(0,t.jsx)(b.UserPlus,{className:"w-4 h-4 mr-2"}),"Add Child"]})}),(0,t.jsxs)(r.DialogContent,{children:[(0,t.jsxs)(r.DialogHeader,{children:[(0,t.jsx)(r.DialogTitle,{children:"Add Your Child"}),(0,t.jsx)(r.DialogDescription,{children:"Enter your child's student number to link them to your account."})]}),(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"studentNumber",children:"Student Number"}),(0,t.jsx)(l.Input,{id:"studentNumber",placeholder:"e.g., SNPA-2024-001",value:O,onChange:e=>_(e.target.value),disabled:L})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"relationship",children:"Relationship"}),(0,t.jsxs)(i.Select,{value:V,onValueChange:U,disabled:L,children:[(0,t.jsx)(i.SelectTrigger,{children:(0,t.jsx)(i.SelectValue,{})}),(0,t.jsxs)(i.SelectContent,{children:[(0,t.jsx)(i.SelectItem,{value:"parent",children:"Parent"}),(0,t.jsx)(i.SelectItem,{value:"guardian",children:"Guardian"}),(0,t.jsx)(i.SelectItem,{value:"mother",children:"Mother"}),(0,t.jsx)(i.SelectItem,{value:"father",children:"Father"})]})]})]}),G&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded",children:G}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(s.Button,{onClick:el,disabled:L,className:"flex-1 bg-red-800 hover:bg-red-700",children:L?"Adding...":"Add Student"}),(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>{B(!1),_(""),K("")},disabled:L,children:"Cancel"})]})]})]})]}),(0,t.jsx)(N.default,{href:"/",children:(0,t.jsxs)(s.Button,{variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white bg-transparent",children:[(0,t.jsx)(g.Home,{className:"w-4 h-4 mr-2"}),"Home"]})}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"font-medium text-red-800",children:S.name||S.email||"Parent/Guardian"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Parent/Guardian"})]}),(0,t.jsxs)(s.Button,{onClick:er,variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white bg-transparent",children:[(0,t.jsx)(j.LogOut,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)(d.Tabs,{value:D,onValueChange:P,className:"w-full",children:[(0,t.jsxs)(d.TabsList,{className:"grid w-full grid-cols-5 mb-8",children:[(0,t.jsxs)(d.TabsTrigger,{value:"dashboard",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,t.jsx)(p.LayoutDashboard,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),(0,t.jsxs)(d.TabsTrigger,{value:"children",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,t.jsx)(f.User,{className:"w-4 h-4 mr-2"}),"My Children"]}),(0,t.jsxs)(d.TabsTrigger,{value:"attendance",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,t.jsx)(u.Clock,{className:"w-4 h-4 mr-2"}),"Attendance"]}),(0,t.jsxs)(d.TabsTrigger,{value:"messages",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,t.jsx)(v.MessageSquare,{className:"w-4 h-4 mr-2"}),"Messages"]}),(0,t.jsxs)(d.TabsTrigger,{value:"schedule",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,t.jsx)(x.Calendar,{className:"w-4 h-4 mr-2"}),"Schedule"]})]}),(0,t.jsxs)(d.TabsContent,{value:"dashboard",className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Welcome, ",S.name||S.email||"Parent/Guardian","!"]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Monitor your children's academic progress and school activities."})]}),H&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-800 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading dashboard data..."})]}),!H&&(0,t.jsx)(I,{children:T,childStats:J,childGrades:W,childAttendance:Q,announcements:ee})]}),(0,t.jsxs)(d.TabsContent,{value:"children",className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"My Children"}),(0,t.jsx)("p",{className:"text-gray-600",children:"View and access your children's student portals."})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(e=>(0,t.jsxs)(a.Card,{className:"border-red-200 hover:shadow-lg transition-shadow",children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:e.photo||e.name?.charAt(0)||"S"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(a.CardTitle,{className:"text-red-800",children:e.name}),(0,t.jsxs)(a.CardDescription,{children:[e.grade_level||"N/A"," - ",e.section||"N/A"]})]})]})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Student ID"}),(0,t.jsx)("p",{className:"font-medium",children:e.student_id||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Email"}),(0,t.jsx)("p",{className:"font-medium text-sm",children:e.email||"N/A"})]}),(0,t.jsxs)(s.Button,{onClick:()=>en(e),className:"w-full bg-red-800 hover:bg-red-700",children:[(0,t.jsx)(m.Eye,{className:"w-4 h-4 mr-2"}),"View Student Portal"]})]})})]},e.id))})]}),(0,t.jsxs)(d.TabsContent,{value:"attendance",className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Attendance Records"}),(0,t.jsx)("p",{className:"text-gray-600",children:"View detailed attendance information for each child."})]}),(0,t.jsx)("div",{className:"space-y-6",children:T.map(e=>{let s=String(e.id),r=Q[s]||[],l=J[s];return(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:"text-red-800",children:e.name}),(0,t.jsxs)(a.CardDescription,{children:[e.grade_level||"N/A"," - ",e.section||"N/A"]})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[l&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Overall Attendance Rate"}),(0,t.jsxs)("span",{className:"text-sm font-bold text-red-800",children:[l.attendanceRate.toFixed(1),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-red-600 h-3 rounded-full transition-all",style:{width:`${l.attendanceRate}%`}})})]}),r.length>0?(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Last 7 days: ",r.filter(e=>"present"===e.status).length," present,"," ",r.filter(e=>"late"===e.status).length," late,"," ",r.filter(e=>"absent"===e.status).length," absent"]}):(0,t.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,t.jsx)(u.Clock,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),(0,t.jsx)("p",{children:"No attendance records available"})]})]})})]},e.id)})})]}),(0,t.jsxs)(d.TabsContent,{value:"messages",className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Messages & Announcements"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Communications from teachers and school administration."})]}),(0,t.jsx)("div",{className:"space-y-4",children:T.map(e=>{let s=ee[String(e.id)]||[];return(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"text-red-800",children:["Messages for ",e.name]}),(0,t.jsxs)(a.CardDescription,{children:[e.grade_level||"N/A"," - ",e.section||"N/A"]})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:s.length>0?s.map(e=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.date?new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):""})]}),(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded flex-shrink-0 ${"high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:e.priority})]}),e.content&&(0,t.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:e.content}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["From: ",e.from||"School Admin"]})]},e.id)):(0,t.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No messages yet"})})})]},e.id)})})]}),(0,t.jsxs)(d.TabsContent,{value:"schedule",className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Class Schedules"}),(0,t.jsx)("p",{className:"text-gray-600",children:"View your children's class schedules."})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:T.map(e=>(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"text-red-800",children:[e.name,"'s Schedule"]}),(0,t.jsxs)(a.CardDescription,{children:[e.grade_level||"N/A"," - ",e.section||"N/A"]})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(x.Calendar,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,t.jsx)("p",{children:"Schedule information available in student portal."}),(0,t.jsxs)(s.Button,{onClick:()=>en(e),variant:"outline",className:"mt-4",children:[(0,t.jsx)(m.Eye,{className:"w-4 h-4 mr-2"}),"View Student Portal"]})]})})]},e.id))})]})]})})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-md border-b-4 border-red-800",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(y.default,{src:"/logo.png",alt:"Sto Ni単o de Praga Academy Logo",width:60,height:60,className:"rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-red-800",children:"Parent Dashboard"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Sto Ni単o de Praga Academy"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(N.default,{href:"/",children:(0,t.jsxs)(s.Button,{variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white bg-transparent",children:[(0,t.jsx)(g.Home,{className:"w-4 h-4 mr-2"}),"Home"]})}),(0,t.jsxs)(s.Button,{onClick:er,variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white bg-transparent",children:[(0,t.jsx)(j.LogOut,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,t.jsxs)(a.Card,{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:"text-red-800",children:"No Children Linked"}),(0,t.jsx)(a.CardDescription,{children:"You don't have any children linked to your account yet. Please add your child to get started."})]}),(0,t.jsx)(a.CardContent,{className:"space-y-4",children:(0,t.jsxs)(r.Dialog,{open:$,onOpenChange:B,children:[(0,t.jsx)(r.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{className:"w-full bg-red-800 hover:bg-red-700",children:[(0,t.jsx)(b.UserPlus,{className:"w-4 h-4 mr-2"}),"Add Your Child"]})}),(0,t.jsxs)(r.DialogContent,{children:[(0,t.jsxs)(r.DialogHeader,{children:[(0,t.jsx)(r.DialogTitle,{children:"Add Your Child"}),(0,t.jsx)(r.DialogDescription,{children:"Enter your child's student number to link them to your account."})]}),(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"studentNumber",children:"Student Number"}),(0,t.jsx)(l.Input,{id:"studentNumber",placeholder:"e.g., SNPA-2024-001",value:O,onChange:e=>_(e.target.value),disabled:L})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"relationship",children:"Relationship"}),(0,t.jsxs)(i.Select,{value:V,onValueChange:U,disabled:L,children:[(0,t.jsx)(i.SelectTrigger,{children:(0,t.jsx)(i.SelectValue,{})}),(0,t.jsxs)(i.SelectContent,{children:[(0,t.jsx)(i.SelectItem,{value:"parent",children:"Parent"}),(0,t.jsx)(i.SelectItem,{value:"guardian",children:"Guardian"}),(0,t.jsx)(i.SelectItem,{value:"mother",children:"Mother"}),(0,t.jsx)(i.SelectItem,{value:"father",children:"Father"})]})]})]}),G&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded",children:G}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(s.Button,{onClick:el,disabled:L,className:"flex-1 bg-red-800 hover:bg-red-700",children:L?"Adding...":"Add Student"}),(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>{B(!1),_(""),K("")},disabled:L,children:"Cancel"})]})]})]})]})})]})})]})}e.s(["default",()=>R],19703)}]);