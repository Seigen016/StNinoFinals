(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19581,e=>{"use strict";var s=e.i(7426),a=e.i(94179),t=e.i(67881),r=e.i(57734),l=e.i(70065),n=e.i(30374),i=e.i(23750),c=e.i(10708),d=e.i(59377),o=e.i(62870),m=e.i(47627),x=e.i(27341),h=e.i(84762),u=e.i(53210),j=e.i(84175),g=e.i(11678),p=e.i(39065),b=e.i(3881),N=e.i(10729),v=e.i(66662),y=e.i(73251),f=e.i(19654),C=e.i(95719),w=e.i(81362),S=e.i(4543),T=e.i(51883),k=e.i(53607);let L=(0,e.i(11041).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var A=e.i(85513),D=e.i(92486),P=e.i(34317),I=e.i(12313),H=e.i(21060),$=e.i(8720);function W(){let e,W,[B,E]=(0,$.useState)(null),[F,O]=(0,$.useState)(!0),[_,M]=(0,$.useState)(""),[q,G]=(0,$.useState)(""),[Q,z]=(0,$.useState)(null),[J,R]=(0,$.useState)(!1),[V,U]=(0,$.useState)("dashboard"),[Y,K]=(0,$.useState)(null),[X,Z]=(0,$.useState)({date:"",subject:"",topic:"",activities:"",notes:""}),[ee,es]=(0,$.useState)(!1),[ea,et]=(0,$.useState)([]),[er,el]=(0,$.useState)(new Date().toISOString().split("T")[0]),[en,ei]=(0,$.useState)("Section A"),[ec,ed]=(0,$.useState)("Q1"),[eo,em]=(0,$.useState)([]),[ex,eh]=(0,$.useState)(!1),[eu,ej]=(0,$.useState)(null),[eg,ep]=(0,$.useState)([]),[eb,eN]=(0,$.useState)(!1),ev=e=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()],ey=e=>{let s=e?.toLowerCase()||"";return s.includes("filipino")||s.includes("english")||s.includes("araling panlipunan")||s.includes("ap")||s.includes("esp")||s.includes("edukasyon sa pagpapakatao")||s.includes("mother tongue")||s.includes("mt")?{writtenWork:30,performanceTasks:50,quarterlyAssessment:20}:s.includes("science")||s.includes("mathematics")||s.includes("math")?{writtenWork:40,performanceTasks:40,quarterlyAssessment:20}:s.includes("mapeh")||s.includes("music")||s.includes("arts")||s.includes("physical education")||s.includes("health")||s.includes("epp")||s.includes("tle")||s.includes("technology")||s.includes("livelihood")||s.includes("elective")||s.includes("writing")?{writtenWork:20,performanceTasks:60,quarterlyAssessment:20}:{writtenWork:30,performanceTasks:50,quarterlyAssessment:20}};(0,$.useEffect)(()=>{B&&B.id&&ef()},[B,en,ec]);let ef=async()=>{if(B&&B.id){eN(!0);try{let e=B.subject||B.subjects||B.specialization||"General",s=await fetch(`/api/teacher/grades?teacherId=${B.id}&section=${en}&subject=${encodeURIComponent(e)}`),a=await s.json();a.success&&a.data&&em(a.data)}catch(e){console.error("Error fetching grades:",e)}finally{eN(!1)}}},eC=e=>{let s=ey(B?.subject||B?.subjects||"Mathematics"),a=e.writtenWork.map(e=>parseFloat(e)||0).filter(e=>e>0),t=a.length>0?a.reduce((e,s)=>e+s,0)/a.length:0,r=e.performanceTasks.map(e=>parseFloat(e)||0).filter(e=>e>0),l=r.length>0?r.reduce((e,s)=>e+s,0)/r.length:0,n=parseFloat(e.quarterlyAssessment)||0,i=t*s.writtenWork/100+l*s.performanceTasks/100+n*s.quarterlyAssessment/100;return i>0?i.toFixed(2):""},ew=(e,s,a,t)=>{em(r=>r.map(r=>{if(r.id===e)if(null===a)return{...r,[s]:t};else{let e=[...r[s]];return e[a]=t,{...r,[s]:e}}return r}))},{showAlert:eS}=(0,j.useAlert)(),{showConfirm:eT}=(0,g.useConfirm)(),ek=async()=>{if(!B||!B.id)return void eS({message:"Teacher information not found",type:"error"});eh(!0);try{let e=B.subject||B.subjects||B.specialization||"General",s=await fetch("/api/teacher/grades",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teacherId:B.id,subject:e,section:en,quarter:ec,grades:eo})}),a=await s.json();a.success?eS({message:"Grades saved successfully!",type:"success"}):eS({message:a.error||"Failed to save grades",type:"error"})}catch(e){console.error("Error saving grades:",e),eS({message:"Error saving grades. Please try again.",type:"error"})}finally{eh(!1)}};(0,$.useEffect)(()=>{B&&B.id&&eL()},[er,B]);let eL=async()=>{if(B&&B.id)try{let e=await fetch(`/api/teacher/schedule?teacherId=${B.id}&date=${er}`),s=await e.json();s.success&&s.data&&et(s.data)}catch(e){console.error("Error fetching schedule:",e)}};(0,$.useEffect)(()=>{B&&B.id&&(eA(),eD())},[B]);let eA=async()=>{if(B&&B.id)try{let e=await fetch(`/api/teacher/stats?teacherId=${B.id}`),s=await e.json();s.success&&s.data&&ej(s.data)}catch(e){console.error("Error fetching teacher stats:",e)}},eD=async()=>{if(B&&B.id)try{let e=await fetch(`/api/teacher/journal?teacherId=${B.id}`),s=await e.json();s.success&&s.data&&ep(s.data)}catch(e){console.error("Error fetching journal entries:",e)}};(0,$.useEffect)(()=>{let e=localStorage.getItem("teacher");if(e)try{let s=JSON.parse(e);E(s)}catch(e){console.error("Error parsing stored teacher data:",e),localStorage.removeItem("teacher")}O(!1)},[]);let eP=async e=>{e.preventDefault(),R(!0),z(null);try{let e=await fetch("/api/teacher/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:_,password:q})});if(!e.ok){let s=await e.json().catch(()=>({error:"Network error occurred"}));z(s.error||`Server error (${e.status}). Please try again.`);return}let s=await e.json();s.success&&s.teacher?(E(s.teacher),localStorage.setItem("teacher",JSON.stringify(s.teacher)),M(""),G(""),z(null)):z(s.error||"Login failed. Please check your credentials.")}catch(s){console.error("Login error:",s);let e=s?.message||String(s)||"";e&&(e.includes("fetch")||e.includes("network"))?z("Network error. Please check your internet connection and try again."):e&&e.includes("Failed to fetch")?z("Cannot connect to the server. Please make sure the server is running."):z(`An error occurred: ${e||"Please try again."}`)}finally{R(!1)}},eI=async()=>{await eT({message:"Are you sure you want to log out?",confirmText:"Logout",cancelText:"Cancel",variant:"destructive"})&&(await u.supabase.auth.signOut(),localStorage.removeItem("teacher"),E(null),window.location.href="/")};if(F)return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("div",{className:"text-xl font-bold text-red-800",children:"Loading..."})})});if(!B)return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 flex items-center justify-center",children:(0,s.jsxs)(l.Card,{className:"w-full max-w-md border-red-200",children:[(0,s.jsxs)(l.CardHeader,{className:"text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(I.default,{src:"/logo.png",alt:"Sto Niño de Praga Academy Logo",width:80,height:80,className:"rounded-full"})}),(0,s.jsx)(l.CardTitle,{className:"text-2xl font-bold text-red-800",children:"Teacher Login"}),(0,s.jsx)(l.CardDescription,{children:"Sto Niño de Praga Academy"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("form",{onSubmit:eP,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c.Label,{htmlFor:"email",className:"text-red-800",children:[(0,s.jsx)(k.Mail,{className:"w-4 h-4 inline mr-2"}),"Email"]}),(0,s.jsx)(i.Input,{id:"email",type:"email",placeholder:"teacher@example.com",value:_,onChange:e=>M(e.target.value),required:!0,className:"border-red-200"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c.Label,{htmlFor:"password",className:"text-red-800",children:[(0,s.jsx)(S.Lock,{className:"w-4 h-4 inline mr-2"}),"Password"]}),(0,s.jsx)(i.Input,{id:"password",type:"password",placeholder:"Enter your password",value:q,onChange:e=>G(e.target.value),required:!0,className:"border-red-200"})]}),Q&&(0,s.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:Q}),(0,s.jsx)(t.Button,{type:"submit",disabled:J,className:"w-full bg-red-800 hover:bg-red-700",children:J?"Logging in...":"Login"}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(H.default,{href:"/",children:(0,s.jsxs)(t.Button,{type:"button",variant:"outline",className:"border-red-800 text-red-800",children:[(0,s.jsx)(C.Home,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})]})})]})});let eH=async e=>{if(e.preventDefault(),!B||!B.id)return void eS({message:"Teacher information not found",type:"error"});try{let e=await fetch("/api/teacher/journal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...X,teacherId:B.id})}),s=await e.json();s.success?(eS({message:"Journal entry saved successfully!",type:"success"}),es(!1),Z({date:"",subject:"",topic:"",activities:"",notes:""}),eD()):eS({message:s.error||"Failed to save journal entry. Please try again.",type:"error"})}catch(e){console.error("Journal submission error:",e),eS({message:"Error saving journal entry. Please try again.",type:"error"})}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-md border-b-4 border-red-800",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(I.default,{src:"/logo.png",alt:"Sto Niño de Praga Academy Logo",width:60,height:60,className:"rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-red-800",children:"Teacher Portal"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Sto Niño de Praga Academy"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(H.default,{href:"/",children:(0,s.jsxs)(t.Button,{variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white",children:[(0,s.jsx)(C.Home,{className:"w-4 h-4 mr-2"}),"Home"]})}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"font-medium text-red-800",children:B.name||(B.first_name&&B.last_name?`${B.first_name} ${B.last_name}`:B.email)}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:B.subjects||B.subject||"Teacher"})]}),(0,s.jsxs)(t.Button,{onClick:eI,variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white",children:[(0,s.jsx)(T.LogOut,{className:"w-4 h-4 mr-2"}),"Log Out"]})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)(x.Tabs,{value:V,onValueChange:U,className:"w-full",children:[(0,s.jsxs)(x.TabsList,{className:"grid w-full grid-cols-7 mb-8",children:[(0,s.jsxs)(x.TabsTrigger,{value:"dashboard",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(w.LayoutDashboard,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),(0,s.jsxs)(x.TabsTrigger,{value:"account",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(P.User,{className:"w-4 h-4 mr-2"}),"My Account"]}),(0,s.jsxs)(x.TabsTrigger,{value:"calendar",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(b.Calendar,{className:"w-4 h-4 mr-2"}),"Calendar"]}),(0,s.jsxs)(x.TabsTrigger,{value:"grades",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(f.GraduationCap,{className:"w-4 h-4 mr-2"}),"Manage Grades"]}),(0,s.jsxs)(x.TabsTrigger,{value:"journal",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(p.BookOpen,{className:"w-4 h-4 mr-2"}),"Teaching Journal"]}),(0,s.jsxs)(x.TabsTrigger,{value:"settings",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(D.Settings,{className:"w-4 h-4 mr-2"}),"Settings"]}),(0,s.jsxs)(x.TabsTrigger,{value:"logout",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(T.LogOut,{className:"w-4 h-4 mr-2"}),"Log Out"]})]}),(0,s.jsxs)(x.TabsContent,{value:"dashboard",className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)(l.Card,{className:"border-l-4 border-l-red-800",children:[(0,s.jsxs)(l.CardHeader,{className:"pb-2",children:[(0,s.jsx)(l.CardDescription,{children:"Total Students"}),(0,s.jsx)(l.CardTitle,{className:"text-3xl text-red-800",children:eu?.totalStudents||0})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Across all your classes"})})]}),(0,s.jsxs)(l.Card,{className:"border-l-4 border-l-blue-600",children:[(0,s.jsxs)(l.CardHeader,{className:"pb-2",children:[(0,s.jsx)(l.CardDescription,{children:"Classes Today"}),(0,s.jsx)(l.CardTitle,{className:"text-3xl text-blue-600",children:eu?.classesToday||0})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Scheduled for today"})})]}),(0,s.jsxs)(l.Card,{className:"border-l-4 border-l-green-600",children:[(0,s.jsxs)(l.CardHeader,{className:"pb-2",children:[(0,s.jsx)(l.CardDescription,{children:"Journal Entries"}),(0,s.jsx)(l.CardTitle,{className:"text-3xl text-green-600",children:eu?.journalEntries||0})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total entries recorded"})})]}),(0,s.jsxs)(l.Card,{className:"border-l-4 border-l-orange-600",children:[(0,s.jsxs)(l.CardHeader,{className:"pb-2",children:[(0,s.jsx)(l.CardDescription,{children:"Pending Grades"}),(0,s.jsx)(l.CardTitle,{className:"text-3xl text-orange-600",children:eu?.pendingGrades||0})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Awaiting submission"})})]})]}),eu?.todaySchedule&&eu.todaySchedule.length>0&&(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsxs)(l.CardTitle,{className:"text-red-800 flex items-center",children:[(0,s.jsx)(v.Clock,{className:"w-5 h-5 mr-2"}),"Today's Schedule"]}),(0,s.jsx)(l.CardDescription,{children:"Your classes scheduled for today"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"space-y-3",children:eu.todaySchedule.map((e,a)=>(0,s.jsx)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-red-800",children:e.timeStart}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.timeEnd})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.subject}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[e.section," • ",e.room]})]})]})},a))})})]}),eu?.announcements&&eu.announcements.length>0&&(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)(l.CardTitle,{className:"text-red-800",children:"Recent Announcements"})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"space-y-3",children:eu.announcements.map(e=>(0,s.jsx)("div",{className:"p-3 border rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-red-800",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.content})]}),e.priority&&(0,s.jsx)(a.Badge,{variant:"high"===e.priority?"destructive":"default",children:e.priority})]})},e.id))})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)(l.CardTitle,{className:"text-red-800",children:"Quick Actions"})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)(t.Button,{onClick:()=>U("grades"),className:"bg-red-800 hover:bg-red-700 h-auto py-4",children:[(0,s.jsx)(f.GraduationCap,{className:"w-5 h-5 mr-2"}),"Manage Grades"]}),(0,s.jsxs)(t.Button,{onClick:()=>U("journal"),variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-50 h-auto py-4",children:[(0,s.jsx)(p.BookOpen,{className:"w-5 h-5 mr-2"}),"Add Journal Entry"]}),(0,s.jsxs)(t.Button,{onClick:()=>U("calendar"),variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-50 h-auto py-4",children:[(0,s.jsx)(b.Calendar,{className:"w-5 h-5 mr-2"}),"View Schedule"]})]})})]})]}),(0,s.jsx)(x.TabsContent,{value:"account",className:"space-y-6",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{className:"text-red-800",children:"My Account Information"}),(0,s.jsx)(l.CardDescription,{children:"View your account details and information"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)(l.Card,{className:"border-red-200",children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"text-lg text-red-800 flex items-center",children:[(0,s.jsx)(P.User,{className:"w-5 h-5 mr-2"}),"Personal Information"]})}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{className:"text-gray-600",children:"Full Name"}),(0,s.jsx)("p",{className:"font-medium text-red-800",children:B.name||(B.first_name&&B.last_name?`${B.first_name} ${B.last_name}`:"Not provided")})]}),B.first_name&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{className:"text-gray-600",children:"First Name"}),(0,s.jsx)("p",{className:"font-medium",children:B.first_name})]}),B.last_name&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{className:"text-gray-600",children:"Last Name"}),(0,s.jsx)("p",{className:"font-medium",children:B.last_name})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(c.Label,{className:"text-gray-600 flex items-center",children:[(0,s.jsx)(k.Mail,{className:"w-4 h-4 mr-2"}),"Email Address"]}),(0,s.jsx)("p",{className:"font-medium",children:B.email})]})]})]}),(0,s.jsxs)(l.Card,{className:"border-red-200",children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)(l.CardTitle,{className:"text-lg text-red-800 flex items-center",children:[(0,s.jsx)(p.BookOpen,{className:"w-5 h-5 mr-2"}),"Teaching Information"]})}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{className:"text-gray-600",children:"Subject(s)"}),(0,s.jsx)("p",{className:"font-medium text-red-800",children:B.subjects||B.subject||"Not assigned"})]}),B.teacher_id&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{className:"text-gray-600",children:"Teacher ID"}),(0,s.jsx)("p",{className:"font-medium",children:B.teacher_id})]}),B.department&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{className:"text-gray-600",children:"Department"}),(0,s.jsx)("p",{className:"font-medium",children:B.department})]})]})]})]}),(B.phone||B.address||B.contact_number)&&(0,s.jsxs)(l.Card,{className:"border-red-200",children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)(l.CardTitle,{className:"text-lg text-red-800",children:"Contact Information"})}),(0,s.jsxs)(l.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[B.phone&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{className:"text-gray-600",children:"Phone"}),(0,s.jsx)("p",{className:"font-medium",children:B.phone})]}),B.contact_number&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{className:"text-gray-600",children:"Contact Number"}),(0,s.jsx)("p",{className:"font-medium",children:B.contact_number})]}),B.address&&(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)(c.Label,{className:"text-gray-600",children:"Address"}),(0,s.jsx)("p",{className:"font-medium",children:B.address})]})]})]}),(0,s.jsxs)(l.Card,{className:"border-red-200",children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)(l.CardTitle,{className:"text-lg text-red-800",children:"Additional Details"})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(B).filter(([e])=>!["id","email","password","name","first_name","last_name","subjects","subject","teacher_id","department","phone","contact_number","address"].includes(e)).map(([e,a])=>a&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{className:"text-gray-600 capitalize",children:e.replace(/_/g," ")}),(0,s.jsx)("p",{className:"font-medium",children:String(a)})]},e))})})]})]})})]})}),(0,s.jsx)(x.TabsContent,{value:"calendar",className:"space-y-6",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{className:"text-red-800",children:"Daily Class Schedule"}),(0,s.jsx)(l.CardDescription,{children:"View your class schedule timeline for the day"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 mb-6",children:[(0,s.jsx)(c.Label,{htmlFor:"schedule-date",className:"text-sm font-medium",children:"Select Date"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(d.Popover,{children:[(0,s.jsx)(d.PopoverTrigger,{asChild:!0,children:(0,s.jsxs)(t.Button,{variant:"outline",id:"schedule-date",className:"w-64 justify-between font-normal border-red-200 hover:bg-red-50",children:[new Date(er).toLocaleDateString("en-US",{weekday:"short",month:"long",day:"numeric",year:"numeric"}),(0,s.jsx)(N.ChevronDownIcon,{className:"h-4 w-4 opacity-50"})]})}),(0,s.jsx)(d.PopoverContent,{className:"w-auto overflow-hidden p-0",align:"start",children:(0,s.jsx)(r.Calendar,{mode:"single",selected:er?new Date(er):new Date,captionLayout:"dropdown",onSelect:e=>{if(e){let s=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");el(`${s}-${a}-${t}`)}}})})]}),(0,s.jsx)(a.Badge,{variant:"outline",className:"text-sm px-3 py-1",children:ev(er)})]})]}),ea.length>0?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-red-200"}),(0,s.jsx)("div",{className:"space-y-6",children:ea.map((e,a)=>(0,s.jsxs)("div",{className:"relative flex items-start gap-4",children:[(0,s.jsx)("div",{className:"relative z-10 flex flex-col items-center",children:(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-800 flex items-center justify-center text-white font-semibold shadow-lg",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xs leading-tight",children:e.timeStart}),(0,s.jsx)("div",{className:"text-xs leading-tight",children:"-"}),(0,s.jsx)("div",{className:"text-xs leading-tight",children:e.timeEnd})]})})}),(0,s.jsx)(l.Card,{className:"flex-1 ml-4 border-l-4 border-l-red-800 shadow-md",children:(0,s.jsxs)(l.CardContent,{className:"p-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Subject"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-red-800",children:e.subject})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Room Number"}),(0,s.jsx)("div",{className:"text-lg font-semibold",children:e.room})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Section"}),(0,s.jsx)("div",{className:"text-lg font-semibold",children:e.section})]})]}),(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(v.Clock,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Duration: ",e.timeStart," - ",e.timeEnd]})]})]})})]},e.id))})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(b.Calendar,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsxs)("p",{className:"text-gray-600 mb-2",children:["No classes scheduled for ",ev(er)]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Select a different date to view your schedule"})]})]})})]})}),(0,s.jsx)(x.TabsContent,{value:"grades",className:"space-y-6",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{className:"text-red-800",children:"Student Grades Management"}),(0,s.jsx)(l.CardDescription,{children:"View and update student grades for your classes"})]}),(0,s.jsx)(l.CardContent,{children:B?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4 pb-4 border-b",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.Label,{htmlFor:"section-select",className:"text-sm font-medium",children:"Section:"}),(0,s.jsxs)(o.Select,{value:en,onValueChange:ei,children:[(0,s.jsx)(o.SelectTrigger,{id:"section-select",className:"w-40",children:(0,s.jsx)(o.SelectValue,{})}),(0,s.jsxs)(o.SelectContent,{children:[(0,s.jsx)(o.SelectItem,{value:"Section A",children:"Section A"}),(0,s.jsx)(o.SelectItem,{value:"Section B",children:"Section B"}),(0,s.jsx)(o.SelectItem,{value:"Section C",children:"Section C"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.Label,{htmlFor:"quarter-select",className:"text-sm font-medium",children:"Quarter:"}),(0,s.jsxs)(o.Select,{value:ec,onValueChange:ed,children:[(0,s.jsx)(o.SelectTrigger,{id:"quarter-select",className:"w-32",children:(0,s.jsx)(o.SelectValue,{})}),(0,s.jsxs)(o.SelectContent,{children:[(0,s.jsx)(o.SelectItem,{value:"Q1",children:"Q1"}),(0,s.jsx)(o.SelectItem,{value:"Q2",children:"Q2"}),(0,s.jsx)(o.SelectItem,{value:"Q3",children:"Q3"}),(0,s.jsx)(o.SelectItem,{value:"Q4",children:"Q4"})]})]})]}),(0,s.jsx)("div",{className:"ml-auto",children:(0,s.jsxs)(a.Badge,{variant:"outline",className:"text-sm",children:["Subject: ",B.subject||B.subjects||B.specialization||"N/A"]})})]}),eb?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("div",{className:"text-xl font-bold text-red-800",children:"Loading grades data..."})}):0===eo.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(f.GraduationCap,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsxs)("p",{className:"text-gray-600 mb-2",children:["No students found for ",en]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Select a different section or make sure students are enrolled in your classes."})]}):(0,s.jsxs)(s.Fragment,{children:[(W=ey(e=B.subject||B.subjects||B.specialization||"Mathematics"),(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,s.jsxs)("div",{className:"text-sm font-semibold text-blue-900 mb-2",children:["Grading System (",e,"):"]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Written Work: "}),(0,s.jsxs)("span",{className:"text-blue-700",children:[W.writtenWork,"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Performance Tasks: "}),(0,s.jsxs)("span",{className:"text-blue-700",children:[W.performanceTasks,"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Quarterly Assessment: "}),(0,s.jsxs)("span",{className:"text-blue-700",children:[W.quarterlyAssessment,"%"]})]})]})]})),(0,s.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,s.jsxs)(m.Table,{children:[(0,s.jsxs)(m.TableHeader,{children:[(0,s.jsxs)(m.TableRow,{className:"bg-red-800 text-white",children:[(0,s.jsx)(m.TableHead,{className:"text-white font-bold sticky left-0 bg-red-800 z-10 min-w-[150px]",children:"Student Name"}),(0,s.jsx)(m.TableHead,{className:"text-white font-bold sticky left-[150px] bg-red-800 z-10 min-w-[100px]",children:"Student No."}),(0,s.jsxs)(m.TableHead,{colSpan:5,className:"text-white font-bold text-center border-l-2 border-white",children:["Written Work (",ey(B.subject||B.subjects||"Mathematics").writtenWork,"%)"]}),(0,s.jsxs)(m.TableHead,{colSpan:5,className:"text-white font-bold text-center border-l-2 border-white",children:["Performance Tasks (",ey(B.subject||B.subjects||"Mathematics").performanceTasks,"%)"]}),(0,s.jsxs)(m.TableHead,{className:"text-white font-bold text-center border-l-2 border-white min-w-[120px]",children:["Quarterly Assessment (",ey(B.subject||B.subjects||"Mathematics").quarterlyAssessment,"%)"]}),(0,s.jsx)(m.TableHead,{className:"text-white font-bold text-center border-l-2 border-white min-w-[100px]",children:"Final Grade"})]}),(0,s.jsxs)(m.TableRow,{className:"bg-gray-100",children:[(0,s.jsx)(m.TableHead,{className:"sticky left-0 bg-gray-100 z-10"}),(0,s.jsx)(m.TableHead,{className:"sticky left-[150px] bg-gray-100 z-10"}),Array.from({length:5}).map((e,a)=>(0,s.jsxs)(m.TableHead,{className:"text-center text-xs border-l min-w-[80px]",children:["WW",a+1]},`ww-${a}`)),Array.from({length:5}).map((e,a)=>(0,s.jsxs)(m.TableHead,{className:"text-center text-xs border-l min-w-[80px]",children:["PT",a+1]},`pt-${a}`)),(0,s.jsx)(m.TableHead,{className:"text-center text-xs border-l"}),(0,s.jsx)(m.TableHead,{className:"text-center text-xs border-l"})]})]}),(0,s.jsx)(m.TableBody,{children:eo.map(e=>(0,s.jsxs)(m.TableRow,{className:"hover:bg-gray-50",children:[(0,s.jsx)(m.TableCell,{className:"font-medium sticky left-0 bg-white z-10 border-r",children:e.name}),(0,s.jsx)(m.TableCell,{className:"sticky left-[150px] bg-white z-10 border-r",children:e.studentNumber}),e.writtenWork.map((a,t)=>(0,s.jsx)(m.TableCell,{className:"p-0 border-l",children:(0,s.jsx)(i.Input,{type:"number",min:"0",max:"100",step:"0.01",value:a,onChange:s=>ew(e.id,"writtenWork",t,s.target.value),className:"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10",placeholder:"0"})},`ww-${e.id}-${t}`)),e.performanceTasks.map((a,t)=>(0,s.jsx)(m.TableCell,{className:"p-0 border-l",children:(0,s.jsx)(i.Input,{type:"number",min:"0",max:"100",step:"0.01",value:a,onChange:s=>ew(e.id,"performanceTasks",t,s.target.value),className:"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10",placeholder:"0"})},`pt-${e.id}-${t}`)),(0,s.jsx)(m.TableCell,{className:"p-0 border-l",children:(0,s.jsx)(i.Input,{type:"number",min:"0",max:"100",step:"0.01",value:e.quarterlyAssessment,onChange:s=>ew(e.id,"quarterlyAssessment",null,s.target.value),className:"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10",placeholder:"0"})}),(0,s.jsx)(m.TableCell,{className:"text-center font-bold text-red-800 border-l bg-gray-50",children:eC(e)||"-"})]},e.id))})]})}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsxs)(t.Button,{onClick:()=>{if(!B||0===eo.length)return void eS({message:"No grades data to export.",type:"warning"});let e=B.subject||B.subjects||"Mathematics",s=ey(e),a=eo.map(e=>{let s=eC(e);return[e.studentNumber||"",e.name||"",...e.writtenWork.map(e=>e||""),...e.performanceTasks.map(e=>e||""),e.quarterlyAssessment||"",s||""]}),t=new Blob([[[`Subject: ${e}`],[`Section: ${en}`],[`Quarter: ${ec}`],[`Grading System: Written Work ${s.writtenWork}%, Performance Tasks ${s.performanceTasks}%, Quarterly Assessment ${s.quarterlyAssessment}%`],[],["Student Number","Student Name","WW1","WW2","WW3","WW4","WW5","PT1","PT2","PT3","PT4","PT5","Quarterly Assessment","Final Grade"],...a].map(e=>e.map(e=>`"${String(e).replace(/"/g,'""')}"`).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),l=URL.createObjectURL(t);r.setAttribute("href",l),r.setAttribute("download",`Grades_${e.replace(/\s+/g,"_")}_${en}_${ec}_${new Date().toISOString().split("T")[0]}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-50",children:[(0,s.jsx)(y.Download,{className:"w-4 h-4 mr-2"}),"Export to CSV"]}),(0,s.jsx)(t.Button,{onClick:ek,disabled:ex,className:"bg-red-800 hover:bg-red-900",children:ex?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.Save,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.Save,{className:"w-4 h-4 mr-2"}),"Save Grades"]})})]})]})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(f.GraduationCap,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Please log in to manage grades."})]})})]})}),(0,s.jsx)(x.TabsContent,{value:"journal",className:"space-y-6",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.CardTitle,{className:"text-red-800",children:"Teaching Journal"}),(0,s.jsx)(l.CardDescription,{children:"Record your daily teaching activities and observations"})]}),(0,s.jsxs)(n.Dialog,{open:ee,onOpenChange:es,children:[(0,s.jsx)(n.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(t.Button,{className:"bg-red-800 hover:bg-red-700",children:[(0,s.jsx)(L,{className:"w-4 h-4 mr-2"}),"Add Entry"]})}),(0,s.jsxs)(n.DialogContent,{className:"max-w-2xl",children:[(0,s.jsxs)(n.DialogHeader,{children:[(0,s.jsx)(n.DialogTitle,{children:"Add Journal Entry"}),(0,s.jsx)(n.DialogDescription,{children:"Record your teaching activities for today"})]}),(0,s.jsxs)("form",{onSubmit:eH,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(c.Label,{htmlFor:"journal-date",children:"Date"}),(0,s.jsxs)(d.Popover,{modal:!0,children:[(0,s.jsx)(d.PopoverTrigger,{asChild:!0,children:(0,s.jsxs)(t.Button,{variant:"outline",id:"journal-date",className:"justify-between font-normal",type:"button",children:[X.date?new Date(X.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Select date",(0,s.jsx)(N.ChevronDownIcon,{className:"h-4 w-4 opacity-50"})]})}),(0,s.jsx)(d.PopoverContent,{className:"w-auto overflow-hidden p-0 z-[9999]",align:"start",children:(0,s.jsx)(r.Calendar,{mode:"single",selected:X.date?new Date(X.date):void 0,captionLayout:"dropdown",onSelect:e=>{if(e){let s=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");Z({...X,date:`${s}-${a}-${t}`})}}})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"subject",children:"Subject"}),(0,s.jsxs)(o.Select,{onValueChange:e=>Z({...X,subject:e}),children:[(0,s.jsx)(o.SelectTrigger,{children:(0,s.jsx)(o.SelectValue,{placeholder:"Select subject"})}),(0,s.jsxs)(o.SelectContent,{children:[(0,s.jsx)(o.SelectItem,{value:"mathematics",children:"Mathematics"}),(0,s.jsx)(o.SelectItem,{value:"science",children:"Science"}),(0,s.jsx)(o.SelectItem,{value:"english",children:"English"}),(0,s.jsx)(o.SelectItem,{value:"filipino",children:"Filipino"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"topic",children:"Topic/Lesson"}),(0,s.jsx)(i.Input,{id:"topic",value:X.topic,onChange:e=>Z({...X,topic:e.target.value}),placeholder:"Enter the lesson topic",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"activities",children:"Activities Conducted"}),(0,s.jsx)(h.Textarea,{id:"activities",value:X.activities,onChange:e=>Z({...X,activities:e.target.value}),placeholder:"Describe the activities and methods used",rows:3,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"notes",children:"Notes & Observations"}),(0,s.jsx)(h.Textarea,{id:"notes",value:X.notes,onChange:e=>Z({...X,notes:e.target.value}),placeholder:"Student responses, challenges, improvements needed, etc.",rows:3})]}),(0,s.jsx)(t.Button,{type:"submit",className:"w-full bg-red-800 hover:bg-red-700",children:"Save Entry"})]})]})]})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:eg.length>0?(0,s.jsx)("div",{className:"space-y-4",children:eg.map(e=>(0,s.jsxs)(l.Card,{className:"border-l-4 border-l-red-800",children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)("div",{className:"flex items-start justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(l.CardTitle,{className:"text-lg text-red-800",children:e.topic}),(0,s.jsxs)(l.CardDescription,{children:[e.subject," • ",new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})})}),(0,s.jsxs)(l.CardContent,{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{className:"text-sm font-semibold text-gray-700",children:"Activities Conducted:"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.activities})]}),e.notes&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{className:"text-sm font-semibold text-gray-700",children:"Notes & Observations:"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.notes})]})]})]},e.id))}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(p.BookOpen,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"No journal entries yet."}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:'Click "Add Entry" to create your first journal entry.'})]})})})]})}),(0,s.jsx)(x.TabsContent,{value:"settings",className:"space-y-6",children:(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{className:"text-red-800",children:"Settings"}),(0,s.jsx)(l.CardDescription,{children:"Manage your account settings and preferences"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(D.Settings,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Settings panel will be available here."}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Configure your account preferences and notification settings."})]})})})]})}),(0,s.jsx)(x.TabsContent,{value:"logout",className:"space-y-6",children:(0,s.jsx)(l.Card,{className:"text-center py-12",children:(0,s.jsxs)(l.CardContent,{children:[(0,s.jsx)(T.LogOut,{className:"w-16 h-16 text-red-800 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-red-800 mb-4",children:"Logout Confirmation"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to log out of the Teacher Portal?"}),(0,s.jsxs)("div",{className:"space-x-4",children:[(0,s.jsx)(t.Button,{onClick:eI,className:"bg-red-800 hover:bg-red-700",children:"Yes, Log Out"}),(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>U("dashboard"),children:"Cancel"})]})]})})})]})})]})}e.s(["default",()=>W],19581)}]);