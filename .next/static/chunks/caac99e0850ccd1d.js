(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36007,57590,e=>{"use strict";var a=e.i(7426),t=e.i(94179),s=e.i(53210),l=e.i(84175),r=e.i(12313),i=e.i(8720);function n({admin:e}){let[n,d]=(0,i.useState)(!1),{showAlert:c}=(0,l.useAlert)(),o=e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.name||e.email.split("@")[0],m=async()=>{d(!0);try{let{error:e}=await s.supabase.auth.signOut();if(e){console.error("Logout error:",e),c({message:"Error signing out. Please try again.",type:"error"}),d(!1);return}window.location.href="/"}catch(e){console.error("Logout error:",e),c({message:"Error signing out. Please try again.",type:"error"}),d(!1)}};return(0,a.jsx)("header",{className:"bg-gradient-to-r from-red-800 to-red-700 text-white shadow-lg sticky top-0 z-50",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(r.default,{src:"/logo.png",alt:"Sto. Niño Logo",width:50,height:50,className:"rounded-full bg-white p-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Admin Portal"}),(0,a.jsx)("p",{className:"text-red-100 text-sm",children:"Sto. Niño de Praga Academy"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:o}),(0,a.jsx)(t.Badge,{variant:"secondary",className:"bg-red-900 text-white hover:bg-red-900",children:"Administrator"})]}),(0,a.jsx)("button",{onClick:m,disabled:n,className:"px-4 py-2 bg-white text-red-800 rounded-lg hover:bg-red-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:n?"Logging out...":"Logout"})]})]})})})}function d(){let[e,a]=(0,i.useState)(null),[t,l]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{(async()=>{try{let{data:e,error:t}=await s.supabase.auth.getUser();if(t){console.error("Auth error:",t),window.location.href="/";return}if(!e.user){window.location.href="/";return}let{data:l,error:r}=await s.supabase.from("users").select("*").eq("email",e.user.email||"").eq("role","admin").single();if(r||!l){console.error("Admin check error:",r),window.location.href="/";return}a(l)}catch(e){console.error("Unexpected error:",e),window.location.href="/"}finally{l(!1)}})()},[]),{admin:e,loading:t}}e.s(["AdminHeader",()=>n],36007),e.s(["useAuth",()=>d],57590)},44858,e=>{"use strict";let a=(0,e.i(11041).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],44858)},47627,e=>{"use strict";var a=e.i(7426),t=e.i(8720),s=e.i(47163);let l=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:l,className:(0,s.cn)("w-full caption-bottom text-sm",e),...t})}));l.displayName="Table";let r=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("thead",{ref:l,className:(0,s.cn)("[&_tr]:border-b",e),...t}));r.displayName="TableHeader";let i=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("tbody",{ref:l,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...t}));i.displayName="TableBody",t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("tfoot",{ref:l,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let n=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("tr",{ref:l,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));n.displayName="TableRow";let d=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("th",{ref:l,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));d.displayName="TableHead";let c=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("td",{ref:l,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableCell",t.forwardRef(({className:e,...t},l)=>(0,a.jsx)("caption",{ref:l,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>i,"TableCell",()=>c,"TableHead",()=>d,"TableHeader",()=>r,"TableRow",()=>n])},4233,e=>{"use strict";let a=(0,e.i(11041).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],4233)},96623,e=>{"use strict";let a=(0,e.i(11041).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>a],96623)},41517,e=>{"use strict";let a=(0,e.i(11041).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>a],41517)},52917,22024,61195,e=>{"use strict";var a=e.i(7426),t=e.i(8720),s=e.i(49707),l=e.i(94237),r=e.i(52640),i=e.i(47163);let n=s.Root;s.Trigger,s.Close;let d=s.Portal,c=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)(s.Overlay,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:l}));c.displayName=s.Overlay.displayName;let o=(0,l.cva)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),m=t.forwardRef(({side:e="right",className:t,children:l,...n},m)=>(0,a.jsxs)(d,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(s.Content,{ref:m,className:(0,i.cn)(o({side:e}),t),...n,children:[l,(0,a.jsxs)(s.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(r.X,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=s.Content.displayName;let h=({className:e,...t})=>(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});h.displayName="SheetHeader";let x=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)(s.Title,{ref:l,className:(0,i.cn)("text-lg font-semibold text-foreground",e),...t}));x.displayName=s.Title.displayName;let u=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)(s.Description,{ref:l,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));u.displayName=s.Description.displayName,e.s(["Sheet",()=>n,"SheetContent",()=>m,"SheetDescription",()=>u,"SheetHeader",()=>h,"SheetTitle",()=>x],52917);var p=e.i(11041);let j=(0,p.default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>j],22024);let b=(0,p.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>b],61195)},54003,e=>{"use strict";var a=e.i(7426),t=e.i(94179),s=e.i(67881),l=e.i(70065),r=e.i(30374),i=e.i(23750),n=e.i(10708),d=e.i(62870),c=e.i(52917),o=e.i(47627),m=e.i(84175),h=e.i(11678),x=e.i(44858),u=e.i(22024),p=e.i(4233),j=e.i(41517),b=e.i(61195),g=e.i(96623),f=e.i(21060),v=e.i(8720),y=e.i(36007),N=e.i(57590);function _(){let{admin:e,loading:_}=(0,N.useAuth)(),[w,S]=(0,v.useState)([]),[T,C]=(0,v.useState)(!1),[E,I]=(0,v.useState)(""),[L,A]=(0,v.useState)(!1),[P,D]=(0,v.useState)(!1),[k,H]=(0,v.useState)(!1),[R,M]=(0,v.useState)(null),{showAlert:z}=(0,m.useAlert)(),{showConfirm:B}=(0,h.useConfirm)(),[F,$]=(0,v.useState)({first_name:"",last_name:"",middle_name:"",employee_number:"",department:"",specialization:"",email:"",phone_number:"",date_of_birth:"",date_hired:"",address:"",rfid:""}),[q,V]=(0,v.useState)({id:"",first_name:"",last_name:"",middle_name:"",employee_number:"",department:"",specialization:"",email:"",phone_number:"",date_of_birth:"",date_hired:"",address:"",rfid:""}),[O,U]=(0,v.useState)(!1),[G,W]=(0,v.useState)(!1),[J,K]=(0,v.useState)(!1),[X,Q]=(0,v.useState)(""),[Y,Z]=(0,v.useState)(""),ee=async()=>{C(!0);try{let e=await fetch("/api/admin/teachers"),a=await e.json();a.success&&a.teachers&&S(a.teachers)}catch(e){console.error("Error fetching teachers:",e)}finally{C(!1)}};(0,v.useEffect)(()=>{ee()},[]);let ea=w.filter(e=>`${e.first_name} ${e.last_name} ${e.employee_number}`.toLowerCase().includes(E.toLowerCase())),et=async e=>{e.preventDefault(),U(!0),Q("");try{let e=`Teacher${Math.random().toString(36).slice(-8)}${Math.floor(100*Math.random())}`,a=await fetch("/api/admin/teachers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...F,password:e})}),t=await a.json();if(!t.success)throw Error(t.error||"Failed to add teacher");await ee(),$({first_name:"",last_name:"",middle_name:"",employee_number:"",department:"",specialization:"",email:"",phone_number:"",date_of_birth:"",date_hired:"",address:"",rfid:""}),A(!1),z({message:`Teacher added successfully!

Login Credentials:
Email: ${F.email}
Password: ${e}

Please save these credentials!`,type:"success"})}catch(e){Q(e?.message||"Failed to add teacher.")}finally{U(!1)}},es=async e=>{e.preventDefault(),W(!0),Z("");try{let e=await fetch(`/api/admin/teachers/${q.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),a=await e.json();if(!a.success)throw Error(a.error||"Failed to update teacher");await ee(),D(!1),z({message:"Teacher updated successfully!",type:"success"})}catch(e){Z(e?.message||"Failed to update teacher.")}finally{W(!1)}},el=async(e,a)=>{if(await B({message:`Are you sure you want to delete ${a}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"destructive"})){K(!0);try{let a=await fetch(`/api/admin/teachers/${e}`,{method:"DELETE"}),t=await a.json();if(!t.success)throw Error(t.error||"Failed to delete teacher");await ee(),z({message:"Teacher deleted successfully!",type:"success"})}catch(e){z({message:e?.message||"Failed to delete teacher.",type:"error"})}finally{K(!1)}}};return _||!e?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-red-800 border-t-transparent"}),(0,a.jsx)("p",{className:"mt-4 text-red-800 font-medium",children:"Loading..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50",children:[(0,a.jsx)(y.AdminHeader,{admin:e}),(0,a.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center gap-4",children:[(0,a.jsx)(f.default,{href:"/admin",children:(0,a.jsxs)(s.Button,{variant:"ghost",size:"sm",className:"hover:bg-red-50",children:[(0,a.jsx)(x.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-red-800",children:"Teacher Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage teacher records and information"})]}),(0,a.jsxs)(r.Dialog,{open:L,onOpenChange:A,children:[(0,a.jsx)(r.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(s.Button,{className:"bg-red-800 hover:bg-red-700",children:[(0,a.jsx)(g.UserPlus,{className:"w-4 h-4 mr-2"}),"Add Teacher"]})}),(0,a.jsxs)(r.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(r.DialogHeader,{children:[(0,a.jsx)(r.DialogTitle,{className:"text-red-800",children:"Add New Teacher"}),(0,a.jsx)(r.DialogDescription,{children:"Enter teacher information to create a new account"})]}),(0,a.jsxs)("form",{onSubmit:et,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"First Name *"}),(0,a.jsx)(i.Input,{value:F.first_name,onChange:e=>$({...F,first_name:e.target.value}),placeholder:"Enter first name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Last Name *"}),(0,a.jsx)(i.Input,{value:F.last_name,onChange:e=>$({...F,last_name:e.target.value}),placeholder:"Enter last name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Middle Name"}),(0,a.jsx)(i.Input,{value:F.middle_name,onChange:e=>$({...F,middle_name:e.target.value}),placeholder:"Enter middle name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Employee Number *"}),(0,a.jsx)(i.Input,{value:F.employee_number,onChange:e=>$({...F,employee_number:e.target.value}),placeholder:"Enter employee number",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Department"}),(0,a.jsxs)(d.Select,{value:F.department,onValueChange:e=>$({...F,department:e}),children:[(0,a.jsx)(d.SelectTrigger,{children:(0,a.jsx)(d.SelectValue,{placeholder:"Select department"})}),(0,a.jsxs)(d.SelectContent,{children:[(0,a.jsx)(d.SelectItem,{value:"Filipino",children:"Filipino"}),(0,a.jsx)(d.SelectItem,{value:"English",children:"English"}),(0,a.jsx)(d.SelectItem,{value:"AP",children:"AP"}),(0,a.jsx)(d.SelectItem,{value:"ESP",children:"ESP"}),(0,a.jsx)(d.SelectItem,{value:"MT",children:"MT"}),(0,a.jsx)(d.SelectItem,{value:"Science",children:"Science"}),(0,a.jsx)(d.SelectItem,{value:"Mathematics",children:"Mathematics"}),(0,a.jsx)(d.SelectItem,{value:"MAPEH",children:"MAPEH"}),(0,a.jsx)(d.SelectItem,{value:"EPP",children:"EPP"}),(0,a.jsx)(d.SelectItem,{value:"TLE",children:"TLE"}),(0,a.jsx)(d.SelectItem,{value:"ELECTIVE",children:"ELECTIVE"}),(0,a.jsx)(d.SelectItem,{value:"WRITING",children:"WRITING"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Specialization"}),(0,a.jsx)(i.Input,{value:F.specialization,onChange:e=>$({...F,specialization:e.target.value}),placeholder:"e.g., Algebra, Physics"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Email *"}),(0,a.jsx)(i.Input,{type:"email",value:F.email,onChange:e=>$({...F,email:e.target.value}),placeholder:"Enter email address",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Phone Number"}),(0,a.jsx)(i.Input,{value:F.phone_number,onChange:e=>$({...F,phone_number:e.target.value}),placeholder:"Enter phone number"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Date of Birth"}),(0,a.jsx)(i.Input,{type:"date",value:F.date_of_birth,onChange:e=>$({...F,date_of_birth:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Date Hired"}),(0,a.jsx)(i.Input,{type:"date",value:F.date_hired,onChange:e=>$({...F,date_hired:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"RFID Card Number"}),(0,a.jsx)(i.Input,{value:F.rfid,onChange:e=>$({...F,rfid:e.target.value}),placeholder:"Enter RFID card number"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{children:"Address"}),(0,a.jsx)(i.Input,{value:F.address,onChange:e=>$({...F,address:e.target.value}),placeholder:"Enter complete address"})]})]}),X&&(0,a.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded",children:X}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(s.Button,{type:"button",variant:"outline",onClick:()=>A(!1),disabled:O,children:"Cancel"}),(0,a.jsx)(s.Button,{type:"submit",className:"bg-red-800 hover:bg-red-700",disabled:O,children:O?"Adding...":"Add Teacher"})]})]})]})]})]}),(0,a.jsx)(r.Dialog,{open:P,onOpenChange:D,children:(0,a.jsxs)(r.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(r.DialogHeader,{children:[(0,a.jsx)(r.DialogTitle,{className:"text-red-800",children:"Edit Teacher"}),(0,a.jsx)(r.DialogDescription,{children:"Update teacher information"})]}),(0,a.jsxs)("form",{onSubmit:es,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"First Name *"}),(0,a.jsx)(i.Input,{value:q.first_name,onChange:e=>V({...q,first_name:e.target.value}),placeholder:"Enter first name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Last Name *"}),(0,a.jsx)(i.Input,{value:q.last_name,onChange:e=>V({...q,last_name:e.target.value}),placeholder:"Enter last name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Middle Name"}),(0,a.jsx)(i.Input,{value:q.middle_name,onChange:e=>V({...q,middle_name:e.target.value}),placeholder:"Enter middle name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Employee Number *"}),(0,a.jsx)(i.Input,{value:q.employee_number,onChange:e=>V({...q,employee_number:e.target.value}),placeholder:"Enter employee number",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Department"}),(0,a.jsxs)(d.Select,{value:q.department,onValueChange:e=>V({...q,department:e}),children:[(0,a.jsx)(d.SelectTrigger,{children:(0,a.jsx)(d.SelectValue,{placeholder:"Select department"})}),(0,a.jsxs)(d.SelectContent,{children:[(0,a.jsx)(d.SelectItem,{value:"Filipino",children:"Filipino"}),(0,a.jsx)(d.SelectItem,{value:"English",children:"English"}),(0,a.jsx)(d.SelectItem,{value:"AP",children:"AP"}),(0,a.jsx)(d.SelectItem,{value:"ESP",children:"ESP"}),(0,a.jsx)(d.SelectItem,{value:"MT",children:"MT"}),(0,a.jsx)(d.SelectItem,{value:"Science",children:"Science"}),(0,a.jsx)(d.SelectItem,{value:"Mathematics",children:"Mathematics"}),(0,a.jsx)(d.SelectItem,{value:"MAPEH",children:"MAPEH"}),(0,a.jsx)(d.SelectItem,{value:"EPP",children:"EPP"}),(0,a.jsx)(d.SelectItem,{value:"TLE",children:"TLE"}),(0,a.jsx)(d.SelectItem,{value:"ELECTIVE",children:"ELECTIVE"}),(0,a.jsx)(d.SelectItem,{value:"WRITING",children:"WRITING"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Specialization"}),(0,a.jsx)(i.Input,{value:q.specialization,onChange:e=>V({...q,specialization:e.target.value}),placeholder:"e.g., Algebra, Physics"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Email *"}),(0,a.jsx)(i.Input,{type:"email",value:q.email,onChange:e=>V({...q,email:e.target.value}),placeholder:"Enter email address",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Phone Number"}),(0,a.jsx)(i.Input,{value:q.phone_number,onChange:e=>V({...q,phone_number:e.target.value}),placeholder:"Enter phone number"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Date of Birth"}),(0,a.jsx)(i.Input,{type:"date",value:q.date_of_birth,onChange:e=>V({...q,date_of_birth:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Date Hired"}),(0,a.jsx)(i.Input,{type:"date",value:q.date_hired,onChange:e=>V({...q,date_hired:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"RFID Card Number"}),(0,a.jsx)(i.Input,{value:q.rfid,onChange:e=>V({...q,rfid:e.target.value}),placeholder:"Enter RFID card number"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{children:"Address"}),(0,a.jsx)(i.Input,{value:q.address,onChange:e=>V({...q,address:e.target.value}),placeholder:"Enter complete address"})]})]}),Y&&(0,a.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded",children:Y}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(s.Button,{type:"button",variant:"outline",onClick:()=>D(!1),disabled:G,children:"Cancel"}),(0,a.jsx)(s.Button,{type:"submit",className:"bg-red-800 hover:bg-red-700",disabled:G,children:G?"Updating...":"Update Teacher"})]})]})]})}),(0,a.jsx)(c.Sheet,{open:k,onOpenChange:H,children:(0,a.jsxs)(c.SheetContent,{side:"right",className:"w-full sm:max-w-lg overflow-y-auto",children:[(0,a.jsxs)(c.SheetHeader,{children:[(0,a.jsx)(c.SheetTitle,{className:"text-red-800",children:"Teacher Details"}),(0,a.jsx)(c.SheetDescription,{children:"View complete teacher information"})]}),R&&(0,a.jsx)("div",{className:"space-y-6 mt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),(0,a.jsx)("p",{className:"text-base font-semibold",children:`${R.first_name} ${R.middle_name||""} ${R.last_name}`.trim()})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Employee Number"}),(0,a.jsx)("p",{className:"text-base font-mono",children:R.employee_number})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Department"}),(0,a.jsx)("p",{className:"text-base",children:R.department||"N/A"})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Specialization"}),(0,a.jsx)("p",{className:"text-base",children:R.specialization||"N/A"})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Email"}),(0,a.jsx)("p",{className:"text-base",children:R.email})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Phone Number"}),(0,a.jsx)("p",{className:"text-base",children:R.phone_number||"N/A"})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date of Birth"}),(0,a.jsx)("p",{className:"text-base",children:R.date_of_birth||"N/A"})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date Hired"}),(0,a.jsx)("p",{className:"text-base",children:R.date_hired||"N/A"})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"RFID Card"}),R.rfid?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(t.Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Assigned"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 font-mono",children:R.rfid})]}):(0,a.jsx)(t.Badge,{variant:"outline",className:"bg-gray-50 text-gray-600",children:"Not Assigned"})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),(0,a.jsx)(t.Badge,{className:"bg-green-100 text-green-800",children:R.status})]}),(0,a.jsxs)("div",{className:"pb-3 border-b",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Address"}),(0,a.jsx)("p",{className:"text-base",children:R.address||"N/A"})]})]})})]})}),(0,a.jsxs)(l.Card,{className:"shadow-md",children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(l.CardTitle,{className:"text-red-800",children:["All Teachers (",ea.length,")"]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(i.Input,{placeholder:"Search teachers...",className:"pl-10 w-64",value:E,onChange:e=>I(e.target.value)})]})})]})}),(0,a.jsx)(l.CardContent,{children:T?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-800 mx-auto"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Loading teachers..."})]}):(0,a.jsxs)(o.Table,{children:[(0,a.jsx)(o.TableHeader,{children:(0,a.jsxs)(o.TableRow,{children:[(0,a.jsx)(o.TableHead,{children:"Employee Number"}),(0,a.jsx)(o.TableHead,{children:"Name"}),(0,a.jsx)(o.TableHead,{children:"Department"}),(0,a.jsx)(o.TableHead,{children:"Specialization"}),(0,a.jsx)(o.TableHead,{children:"RFID"}),(0,a.jsx)(o.TableHead,{children:"Email"}),(0,a.jsx)(o.TableHead,{children:"Status"}),(0,a.jsx)(o.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(o.TableBody,{children:ea.length>0?ea.map(e=>(0,a.jsxs)(o.TableRow,{children:[(0,a.jsx)(o.TableCell,{className:"font-medium",children:e.employee_number}),(0,a.jsx)(o.TableCell,{children:`${e.first_name} ${e.last_name}`}),(0,a.jsx)(o.TableCell,{children:e.department||"N/A"}),(0,a.jsx)(o.TableCell,{children:e.specialization||"N/A"}),(0,a.jsx)(o.TableCell,{children:e.rfid?(0,a.jsx)(t.Badge,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:e.rfid}):(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Not assigned"})}),(0,a.jsx)(o.TableCell,{children:e.email}),(0,a.jsx)(o.TableCell,{children:(0,a.jsx)(t.Badge,{className:"bg-green-100 text-green-800",children:e.status||"Active"})}),(0,a.jsx)(o.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(s.Button,{variant:"outline",size:"sm",onClick:()=>{M(e),H(!0)},children:(0,a.jsx)(p.Eye,{className:"w-4 h-4"})}),(0,a.jsx)(s.Button,{variant:"outline",size:"sm",onClick:()=>{V({id:e.id,first_name:e.first_name,last_name:e.last_name,middle_name:e.middle_name||"",employee_number:e.employee_number,department:e.department||"",specialization:e.specialization||"",email:e.email,phone_number:e.phone_number||"",date_of_birth:e.date_of_birth||"",date_hired:e.date_hired||"",address:e.address||"",rfid:e.rfid||""}),D(!0)},children:(0,a.jsx)(u.Edit,{className:"w-4 h-4"})}),(0,a.jsx)(s.Button,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>el(e.id,`${e.first_name} ${e.last_name}`),disabled:J,children:(0,a.jsx)(b.Trash2,{className:"w-4 h-4"})})]})})]},e.id)):(0,a.jsx)(o.TableRow,{children:(0,a.jsx)(o.TableCell,{colSpan:8,className:"text-center text-gray-500 py-8",children:"No teachers found"})})})]})})]})]})]})}e.s(["default",()=>_])}]);