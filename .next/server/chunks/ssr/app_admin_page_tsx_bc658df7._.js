module.exports=[88367,a=>{"use strict";var b=a.i(95526),c=a.i(3130),d=a.i(42890);let e=(0,d.default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),f=(0,d.default)("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]),g=(0,d.default)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),h=(0,d.default)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),i=(0,d.default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var j=a.i(56994),k=a.i(97006),l=a.i(13906);let m=(0,d.default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),n=(0,d.default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),o=(0,d.default)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);var p=a.i(86569),q=a.i(4640),r=a.i(19770),s=a.i(21113);let t={schoolName:"Sto NiÃ±o de Praga Academy",academicYear:"2024-2025",automaticBackup:!0,rfidIntegration:!0,emailNotifications:!0,studentPortal:!0,teacherPortal:!0};var u=a.i(30924);function v(){let{admin:a,loading:d}=(0,u.useAuth)(),{stats:v,loadingStats:w}=function(a){let[b,c]=(0,s.useState)({totalStudents:0,totalTeachers:0,attendanceRate:0}),[d,e]=(0,s.useState)([]),[f,g]=(0,s.useState)([]),[h,i]=(0,s.useState)(null),[j,k]=(0,s.useState)(t),[l,m]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),[p,q]=(0,s.useState)(!1),[r,u]=(0,s.useState)(!1),[v,w]=(0,s.useState)(!1),[x,y]=(0,s.useState)(null),z=async()=>{m(!0);try{let a=await fetch("/api/admin/stats"),b=await a.json();b.success&&b.data&&c(b.data)}catch(a){console.error("Error fetching stats:",a)}finally{m(!1)}},A=async()=>{o(!0);try{let a=await fetch("/api/admin/students"),b=await a.json();b.success&&b.students&&e(b.students)}catch(a){console.error("Error fetching students:",a)}finally{o(!1)}},B=async()=>{q(!0);try{let a=await fetch("/api/admin/teachers"),b=await a.json();b.success&&b.teachers&&g(b.teachers)}catch(a){console.error("Error fetching teachers:",a)}finally{q(!1)}},C=async()=>{u(!0),y(null);try{let a=await fetch("/api/admin/attendance"),b=a.headers.get("content-type");if(!b||!b.includes("application/json")){let b=await a.text();throw console.error("Non-JSON response:",b.substring(0,200)),Error("Server returned an invalid response. Please check the API endpoint.")}let c=await a.json();if(!a.ok||!c.success)throw Error(c.error||"Failed to load attendance data.");i(c.data)}catch(a){console.error("Error fetching attendance:",a),a?.message?.includes("JSON")||a?.message?.includes("DOCTYPE")?y("Unable to connect to attendance service. Please check if the server is running."):y(a?.message||"Unable to load attendance data.")}finally{u(!1)}},D=async()=>{w(!0);try{let a=await fetch("/api/admin/settings"),b=a.headers.get("content-type");if(!b||!b.includes("application/json")){let b=await a.text();throw Error(`Invalid response format: ${b.substring(0,100)}`)}let c=await a.json();if(!a.ok||!c.success)throw Error(c.error||"Failed to load settings.");k(c.settings)}catch(a){console.error("Error fetching settings:",a)}finally{w(!1)}};return(0,s.useEffect)(()=>{a&&Promise.all([z().catch(a=>console.error("Error in fetchStats:",a)),A().catch(a=>console.error("Error in fetchStudents:",a)),B().catch(a=>console.error("Error in fetchTeachers:",a)),C().catch(a=>console.error("Error in fetchAttendance:",a)),D().catch(a=>console.error("Error in fetchSettings:",a))])},[a]),{stats:b,students:d,teachers:f,attendanceData:h,settingsForm:j,loadingStats:l,loadingStudents:n,loadingTeachers:p,attendanceLoading:r,attendanceError:x,settingsLoading:v,setStudents:e,setTeachers:g,setSettingsForm:k,fetchStats:z,fetchStudents:A,fetchTeachers:B,fetchAttendance:C}}(a);return d||!a?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-red-800 border-t-transparent"}),(0,b.jsx)("p",{className:"mt-4 text-red-800 font-medium",children:"Loading Admin Portal..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(r.AdminHeader,{admin:a}),(0,b.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Welcome back! Here's an overview of your school."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,b.jsxs)(c.Card,{className:"bg-gradient-to-br from-red-50 to-white border-0 shadow-lg",children:[(0,b.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(c.CardTitle,{className:"text-sm font-medium text-red-800",children:"Total Students"}),(0,b.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,b.jsx)(p.Users,{className:"h-5 w-5 text-red-600"})})]}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-red-900",children:w?"...":v.totalStudents.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"All grade levels"})]})]}),(0,b.jsxs)(c.Card,{className:"bg-gradient-to-br from-blue-50 to-white border-0 shadow-lg",children:[(0,b.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(c.CardTitle,{className:"text-sm font-medium text-blue-800",children:"Total Teachers"}),(0,b.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,b.jsx)(m,{className:"h-5 w-5 text-blue-600"})})]}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-blue-900",children:w?"...":v.totalTeachers.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Active faculty"})]})]}),(0,b.jsxs)(c.Card,{className:"bg-gradient-to-br from-orange-50 to-white border-0 shadow-lg",children:[(0,b.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(c.CardTitle,{className:"text-sm font-medium text-orange-800",children:"Total Parents"}),(0,b.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,b.jsx)(o,{className:"h-5 w-5 text-orange-600"})})]}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-orange-900",children:w?"...":v.totalParents}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Active guardians"})]})]}),(0,b.jsxs)(c.Card,{className:"bg-gradient-to-br from-green-50 to-white border-0 shadow-lg",children:[(0,b.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(c.CardTitle,{className:"text-sm font-medium text-green-800",children:"Attendance Rate"}),(0,b.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,b.jsx)(e,{className:"h-5 w-5 text-green-600"})})]}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-green-900",children:w?"...":`${v.attendanceRate}%`}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Today's attendance"})]})]}),(0,b.jsxs)(c.Card,{className:"bg-gradient-to-br from-purple-50 to-white border-0 shadow-lg",children:[(0,b.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(c.CardTitle,{className:"text-sm font-medium text-purple-800",children:"System Status"}),(0,b.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,b.jsx)(i,{className:"h-5 w-5 text-purple-600"})})]}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-green-600",children:"Active"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"All systems operational"})]})]})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Management"})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)(q.default,{href:"/admin/students",className:"group block p-6 bg-white border-2 border-red-200 rounded-lg hover:border-red-400 hover:shadow-lg transition-all",children:[(0,b.jsx)(p.Users,{className:"w-8 h-8 text-red-600 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"font-semibold text-xl mb-2 text-gray-900",children:"Student Management"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Manage student records and profiles"})]}),(0,b.jsxs)(q.default,{href:"/admin/teachers",className:"group block p-6 bg-white border-2 border-red-200 rounded-lg hover:border-red-400 hover:shadow-lg transition-all",children:[(0,b.jsx)(m,{className:"w-8 h-8 text-red-600 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"font-semibold text-xl mb-2 text-gray-900",children:"Teacher Management"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Manage teacher accounts and info"})]}),(0,b.jsxs)(q.default,{href:"/admin/parents",className:"group block p-6 bg-white border-2 border-red-200 rounded-lg hover:border-red-400 hover:shadow-lg transition-all",children:[(0,b.jsx)(o,{className:"w-8 h-8 text-red-600 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"font-semibold text-xl mb-2 text-gray-900",children:"Parent Management"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Manage parent/guardian accounts"})]}),(0,b.jsxs)(q.default,{href:"/admin/attendance",className:"group block p-6 bg-white border-2 border-red-200 rounded-lg hover:border-red-400 hover:shadow-lg transition-all",children:[(0,b.jsx)(f,{className:"w-8 h-8 text-red-600 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"font-semibold text-xl mb-2 text-gray-900",children:"Attendance"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Track and manage attendance records"})]}),(0,b.jsxs)(q.default,{href:"/admin/live-attendance",className:"group block p-6 bg-white border-2 border-red-200 rounded-lg hover:border-red-400 hover:shadow-lg transition-all",children:[(0,b.jsx)(k.Radio,{className:"w-8 h-8 text-red-600 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"font-semibold text-xl mb-2 text-gray-900",children:"Live Attendance"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Real-time attendance tracking"})]}),(0,b.jsxs)(q.default,{href:"/admin/attendance-reports",className:"group block p-6 bg-white border-2 border-red-200 rounded-lg hover:border-red-400 hover:shadow-lg transition-all",children:[(0,b.jsx)(h,{className:"w-8 h-8 text-red-600 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"font-semibold text-xl mb-2 text-gray-900",children:"Student Attendance"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Track student attendance records"})]}),(0,b.jsxs)(q.default,{href:"/admin/teacher-attendance",className:"group block p-6 bg-white border-2 border-red-200 rounded-lg hover:border-red-400 hover:shadow-lg transition-all",children:[(0,b.jsx)(n,{className:"w-8 h-8 text-red-600 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"font-semibold text-xl mb-2 text-gray-900",children:"Teacher Attendance"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Track teacher attendance records"})]}),(0,b.jsxs)(q.default,{href:"/admin/reports",className:"group block p-6 bg-white border-2 border-red-200 rounded-lg hover:border-red-400 hover:shadow-lg transition-all",children:[(0,b.jsx)(j.FileText,{className:"w-8 h-8 text-red-600 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"font-semibold text-xl mb-2 text-gray-900",children:"Reports & Analytics"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Generate and view reports"})]}),(0,b.jsxs)(q.default,{href:"/admin/rfid-display",className:"group block p-6 bg-white border-2 border-red-200 rounded-lg hover:border-red-400 hover:shadow-lg transition-all",children:[(0,b.jsx)(g,{className:"w-8 h-8 text-red-600 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"font-semibold text-xl mb-2 text-gray-900",children:"RFID Display"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor RFID scans in real-time"})]}),(0,b.jsxs)(q.default,{href:"/admin/settings",className:"group block p-6 bg-white border-2 border-red-200 rounded-lg hover:border-red-400 hover:shadow-lg transition-all",children:[(0,b.jsx)(l.Settings,{className:"w-8 h-8 text-red-600 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"font-semibold text-xl mb-2 text-gray-900",children:"Settings"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Configure system preferences"})]})]})]})]})}a.s(["default",()=>v],88367)}];

//# sourceMappingURL=app_admin_page_tsx_bc658df7._.js.map