{"version":3,"sources":["../../../../app/teacher/page.tsx","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.2.1/node_modules/lucide-react/src/icons/plus.ts"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Calendar as CalendarComponent } from \"@/components/ui/calendar\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { supabase } from \"@/lib/supabaseClient\"\nimport { useAlert } from \"@/lib/use-alert\"\nimport { useConfirm } from \"@/lib/use-confirm\"\nimport {\n  BookOpen,\n  Calendar,\n  ChevronDownIcon,\n  Clock,\n  Download,\n  GraduationCap,\n  Home,\n  LayoutDashboard,\n  Lock,\n  LogOut,\n  Mail,\n  Plus,\n  Save,\n  Settings,\n  User\n} from \"lucide-react\"\nimport Image from \"next/image\"\nimport Link from \"next/link\"\nimport { useEffect, useState } from \"react\"\n\n\ninterface Teacher {\n  id: number\n  email: string\n  name?: string\n  first_name?: string\n  last_name?: string\n  subject?: string\n  subjects?: string\n  [key: string]: any\n}\n\nexport default function TeacherPortal() {\n  const [teacher, setTeacher] = useState<Teacher | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [loginEmail, setLoginEmail] = useState(\"\")\n  const [loginPassword, setLoginPassword] = useState(\"\")\n  const [loginError, setLoginError] = useState<string | null>(null)\n  const [isLoggingIn, setIsLoggingIn] = useState(false)\n  \n  const [activeTab, setActiveTab] = useState(\"dashboard\")\n  const [selectedStudent, setSelectedStudent] = useState<any>(null)\n  const [journalEntry, setJournalEntry] = useState({\n    date: \"\",\n    subject: \"\",\n    topic: \"\",\n    activities: \"\",\n    notes: \"\",\n  })\n  const [showAddJournal, setShowAddJournal] = useState(false)\n  const [schedule, setSchedule] = useState<any[]>([])\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0])\n  const [selectedSection, setSelectedSection] = useState(\"Section A\")\n  const [selectedQuarter, setSelectedQuarter] = useState(\"Q1\")\n  const [gradesData, setGradesData] = useState<any[]>([])\n  const [isSavingGrades, setIsSavingGrades] = useState(false)\n  const [teacherStats, setTeacherStats] = useState<any>(null)\n  const [journalEntries, setJournalEntries] = useState<any[]>([])\n  const [isLoadingData, setIsLoadingData] = useState(false)\n\n  // Get day name from date\n  const getDayName = (dateString: string) => {\n    const date = new Date(dateString)\n    const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n    return days[date.getDay()]\n  }\n\n  // Get grading weights based on subject type\n  const getGradingWeights = (subject: string) => {\n    const subjectLower = subject?.toLowerCase() || \"\"\n    \n    // Group 1: Filipino/English/AP/ESP/MT\n    if (\n      subjectLower.includes(\"filipino\") ||\n      subjectLower.includes(\"english\") ||\n      subjectLower.includes(\"araling panlipunan\") ||\n      subjectLower.includes(\"ap\") ||\n      subjectLower.includes(\"esp\") ||\n      subjectLower.includes(\"edukasyon sa pagpapakatao\") ||\n      subjectLower.includes(\"mother tongue\") ||\n      subjectLower.includes(\"mt\")\n    ) {\n      return {\n        writtenWork: 30,\n        performanceTasks: 50,\n        quarterlyAssessment: 20,\n      }\n    }\n    \n    // Group 2: Science/Mathematics\n    if (\n      subjectLower.includes(\"science\") ||\n      subjectLower.includes(\"mathematics\") ||\n      subjectLower.includes(\"math\")\n    ) {\n      return {\n        writtenWork: 40,\n        performanceTasks: 40,\n        quarterlyAssessment: 20,\n      }\n    }\n    \n    // Group 3: MAPEH/EPP/TLE/ELECTIVE/WRITING\n    if (\n      subjectLower.includes(\"mapeh\") ||\n      subjectLower.includes(\"music\") ||\n      subjectLower.includes(\"arts\") ||\n      subjectLower.includes(\"physical education\") ||\n      subjectLower.includes(\"health\") ||\n      subjectLower.includes(\"epp\") ||\n      subjectLower.includes(\"tle\") ||\n      subjectLower.includes(\"technology\") ||\n      subjectLower.includes(\"livelihood\") ||\n      subjectLower.includes(\"elective\") ||\n      subjectLower.includes(\"writing\")\n    ) {\n      return {\n        writtenWork: 20,\n        performanceTasks: 60,\n        quarterlyAssessment: 20,\n      }\n    }\n    \n    // Default to Group 1 if subject not recognized\n    return {\n      writtenWork: 30,\n      performanceTasks: 50,\n      quarterlyAssessment: 20,\n    }\n  }\n\n  // Fetch real grades data\n  useEffect(() => {\n    if (teacher && teacher.id) {\n      fetchGradesData()\n    }\n  }, [teacher, selectedSection, selectedQuarter])\n\n  const fetchGradesData = async () => {\n    if (!teacher || !teacher.id) return\n    \n    setIsLoadingData(true)\n    try {\n      const teacherSubject = teacher.subject || teacher.subjects || teacher.specialization || \"General\"\n      const response = await fetch(\n        `/api/teacher/grades?teacherId=${teacher.id}&section=${selectedSection}&subject=${encodeURIComponent(teacherSubject)}`\n      )\n      const data = await response.json()\n      \n      if (data.success && data.data) {\n        setGradesData(data.data)\n      }\n    } catch (error) {\n      console.error('Error fetching grades:', error)\n    } finally {\n      setIsLoadingData(false)\n    }\n  }\n\n  // Calculate final grade for a student\n  const calculateFinalGrade = (student: any) => {\n    const teacherSubject = teacher?.subject || teacher?.subjects || \"Mathematics\"\n    const weights = getGradingWeights(teacherSubject)\n\n    // Calculate Written Work average\n    const writtenWorkScores = student.writtenWork\n      .map((score: string) => parseFloat(score) || 0)\n      .filter((score: number) => score > 0)\n    const writtenWorkAvg =\n      writtenWorkScores.length > 0\n        ? writtenWorkScores.reduce((a: number, b: number) => a + b, 0) / writtenWorkScores.length\n        : 0\n\n    // Calculate Performance Tasks average\n    const performanceScores = student.performanceTasks\n      .map((score: string) => parseFloat(score) || 0)\n      .filter((score: number) => score > 0)\n    const performanceAvg =\n      performanceScores.length > 0\n        ? performanceScores.reduce((a: number, b: number) => a + b, 0) / performanceScores.length\n        : 0\n\n    // Quarterly Assessment\n    const quarterlyScore = parseFloat(student.quarterlyAssessment) || 0\n\n    // Calculate weighted final grade\n    const finalGrade =\n      (writtenWorkAvg * weights.writtenWork) / 100 +\n      (performanceAvg * weights.performanceTasks) / 100 +\n      (quarterlyScore * weights.quarterlyAssessment) / 100\n\n    return finalGrade > 0 ? finalGrade.toFixed(2) : \"\"\n  }\n\n  // Update grade value\n  const updateGrade = (studentId: number, category: string, index: number | null, value: string) => {\n    setGradesData((prev) =>\n      prev.map((student) => {\n        if (student.id === studentId) {\n          if (index !== null) {\n            // Array field (writtenWork or performanceTasks)\n            const newArray = [...student[category]]\n            newArray[index] = value\n            return { ...student, [category]: newArray }\n          } else {\n            // Single field (quarterlyAssessment)\n            return { ...student, [category]: value }\n          }\n        }\n        return student\n      })\n    )\n  }\n\n  const { showAlert } = useAlert()\n  const { showConfirm } = useConfirm()\n\n  // Save grades\n  const handleSaveGrades = async () => {\n    if (!teacher || !teacher.id) {\n      showAlert({ message: \"Teacher information not found\", type: \"error\" })\n      return\n    }\n\n    setIsSavingGrades(true)\n    try {\n      const teacherSubject = teacher.subject || teacher.subjects || teacher.specialization || \"General\"\n      const response = await fetch('/api/teacher/grades', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          teacherId: teacher.id,\n          subject: teacherSubject,\n          section: selectedSection,\n          quarter: selectedQuarter,\n          grades: gradesData\n        })\n      })\n\n      const data = await response.json()\n      \n      if (data.success) {\n        showAlert({ message: \"Grades saved successfully!\", type: \"success\" })\n      } else {\n        showAlert({ message: data.error || \"Failed to save grades\", type: \"error\" })\n      }\n    } catch (error) {\n      console.error('Error saving grades:', error)\n      showAlert({ message: \"Error saving grades. Please try again.\", type: \"error\" })\n    } finally {\n      setIsSavingGrades(false)\n    }\n  }\n\n  // Export grades to CSV\n  const handleExportToCSV = () => {\n    if (!teacher || gradesData.length === 0) {\n      showAlert({ message: \"No grades data to export.\", type: \"warning\" })\n      return\n    }\n\n    const teacherSubject = teacher.subject || teacher.subjects || \"Mathematics\"\n    const weights = getGradingWeights(teacherSubject)\n\n    // Create CSV header\n    const headers = [\n      \"Student Number\",\n      \"Student Name\",\n      \"WW1\", \"WW2\", \"WW3\", \"WW4\", \"WW5\",\n      \"PT1\", \"PT2\", \"PT3\", \"PT4\", \"PT5\",\n      \"Quarterly Assessment\",\n      \"Final Grade\",\n    ]\n\n    // Create CSV rows\n    const rows = gradesData.map((student) => {\n      const finalGrade = calculateFinalGrade(student)\n      return [\n        student.studentNumber || \"\",\n        student.name || \"\",\n        ...student.writtenWork.map((score: string) => score || \"\"),\n        ...student.performanceTasks.map((score: string) => score || \"\"),\n        student.quarterlyAssessment || \"\",\n        finalGrade || \"\",\n      ]\n    })\n\n    // Combine header and rows\n    const csvContent = [\n      // Metadata rows\n      [`Subject: ${teacherSubject}`],\n      [`Section: ${selectedSection}`],\n      [`Quarter: ${selectedQuarter}`],\n      [`Grading System: Written Work ${weights.writtenWork}%, Performance Tasks ${weights.performanceTasks}%, Quarterly Assessment ${weights.quarterlyAssessment}%`],\n      [], // Empty row\n      headers, // Column headers\n      ...rows, // Data rows\n    ]\n      .map((row) => row.map((cell) => `\"${String(cell).replace(/\"/g, '\"\"')}\"`).join(\",\"))\n      .join(\"\\n\")\n\n    // Create blob and download\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" })\n    const link = document.createElement(\"a\")\n    const url = URL.createObjectURL(blob)\n    \n    link.setAttribute(\"href\", url)\n    link.setAttribute(\n      \"download\",\n      `Grades_${teacherSubject.replace(/\\s+/g, \"_\")}_${selectedSection}_${selectedQuarter}_${new Date().toISOString().split(\"T\")[0]}.csv`\n    )\n    link.style.visibility = \"hidden\"\n    \n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  // Fetch schedule for selected date\n  useEffect(() => {\n    if (teacher && teacher.id) {\n      fetchSchedule()\n    }\n  }, [selectedDate, teacher])\n\n  const fetchSchedule = async () => {\n    if (!teacher || !teacher.id) return\n    \n    try {\n      const response = await fetch(\n        `/api/teacher/schedule?teacherId=${teacher.id}&date=${selectedDate}`\n      )\n      const data = await response.json()\n      \n      if (data.success && data.data) {\n        setSchedule(data.data)\n      }\n    } catch (error) {\n      console.error('Error fetching schedule:', error)\n    }\n  }\n\n  // Fetch teacher stats and journal entries\n  useEffect(() => {\n    if (teacher && teacher.id) {\n      fetchTeacherStats()\n      fetchJournalEntries()\n    }\n  }, [teacher])\n\n  const fetchTeacherStats = async () => {\n    if (!teacher || !teacher.id) return\n    \n    try {\n      const response = await fetch(`/api/teacher/stats?teacherId=${teacher.id}`)\n      const data = await response.json()\n      \n      if (data.success && data.data) {\n        setTeacherStats(data.data)\n      }\n    } catch (error) {\n      console.error('Error fetching teacher stats:', error)\n    }\n  }\n\n  const fetchJournalEntries = async () => {\n    if (!teacher || !teacher.id) return\n    \n    try {\n      const response = await fetch(`/api/teacher/journal?teacherId=${teacher.id}`)\n      const data = await response.json()\n      \n      if (data.success && data.data) {\n        setJournalEntries(data.data)\n      }\n    } catch (error) {\n      console.error('Error fetching journal entries:', error)\n    }\n  }\n\n  // Check if teacher is logged in on component mount\n  useEffect(() => {\n    const storedTeacher = localStorage.getItem(\"teacher\")\n    if (storedTeacher) {\n      try {\n        const teacherData = JSON.parse(storedTeacher)\n        setTeacher(teacherData)\n      } catch (error) {\n        console.error(\"Error parsing stored teacher data:\", error)\n        localStorage.removeItem(\"teacher\")\n      }\n    }\n    setIsLoading(false)\n  }, [])\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoggingIn(true)\n    setLoginError(null)\n\n    try {\n      const response = await fetch(\"/api/teacher/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email: loginEmail, password: loginPassword }),\n      })\n\n      // Check if response is ok\n      if (!response.ok) {\n        // Try to parse error message\n        const errorData = await response.json().catch(() => ({ error: 'Network error occurred' }))\n        setLoginError(errorData.error || `Server error (${response.status}). Please try again.`)\n        return\n      }\n\n      const data = await response.json()\n\n      if (data.success && data.teacher) {\n        setTeacher(data.teacher)\n        localStorage.setItem(\"teacher\", JSON.stringify(data.teacher))\n        setLoginEmail(\"\")\n        setLoginPassword(\"\")\n        setLoginError(null)\n      } else {\n        setLoginError(data.error || \"Login failed. Please check your credentials.\")\n      }\n    } catch (error: any) {\n      console.error(\"Login error:\", error)\n      // Provide more specific error messages\n      const errorMessage = error?.message || String(error) || ''\n      if (errorMessage && (errorMessage.includes('fetch') || errorMessage.includes('network'))) {\n        setLoginError(\"Network error. Please check your internet connection and try again.\")\n      } else if (errorMessage && errorMessage.includes('Failed to fetch')) {\n        setLoginError(\"Cannot connect to the server. Please make sure the server is running.\")\n      } else {\n        setLoginError(`An error occurred: ${errorMessage || 'Please try again.'}`)\n      }\n    } finally {\n      setIsLoggingIn(false)\n    }\n  }\n\n  const handleLogout = async () => {\n    const confirmed = await showConfirm({\n      message: \"Are you sure you want to log out?\",\n      confirmText: \"Logout\",\n      cancelText: \"Cancel\",\n      variant: \"destructive\"\n    })\n    \n    if (confirmed) {\n      await supabase.auth.signOut()\n      localStorage.removeItem(\"teacher\")\n      setTeacher(null)\n      window.location.href = \"/\"\n    }\n  }\n\n  // Show loading state\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"text-xl font-bold text-red-800\">Loading...</div>\n        </div>\n      </div>\n    )\n  }\n\n  // Show login form if not authenticated\n  if (!teacher) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 flex items-center justify-center\">\n        <Card className=\"w-full max-w-md border-red-200\">\n          <CardHeader className=\"text-center\">\n            <div className=\"flex justify-center mb-4\">\n              <Image\n                src=\"/logo.png\"\n                alt=\"Sto Niño de Praga Academy Logo\"\n                width={80}\n                height={80}\n                className=\"rounded-full\"\n              />\n            </div>\n            <CardTitle className=\"text-2xl font-bold text-red-800\">Teacher Login</CardTitle>\n            <CardDescription>Sto Niño de Praga Academy</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleLogin} className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\" className=\"text-red-800\">\n                  <Mail className=\"w-4 h-4 inline mr-2\" />\n                  Email\n                </Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"teacher@example.com\"\n                  value={loginEmail}\n                  onChange={(e) => setLoginEmail(e.target.value)}\n                  required\n                  className=\"border-red-200\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\" className=\"text-red-800\">\n                  <Lock className=\"w-4 h-4 inline mr-2\" />\n                  Password\n                </Label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"Enter your password\"\n                  value={loginPassword}\n                  onChange={(e) => setLoginPassword(e.target.value)}\n                  required\n                  className=\"border-red-200\"\n                />\n              </div>\n              {loginError && (\n                <div className=\"text-red-600 text-sm bg-red-50 p-2 rounded\">\n                  {loginError}\n                </div>\n              )}\n              <Button\n                type=\"submit\"\n                disabled={isLoggingIn}\n                className=\"w-full bg-red-800 hover:bg-red-700\"\n              >\n                {isLoggingIn ? \"Logging in...\" : \"Login\"}\n              </Button>\n              <div className=\"text-center\">\n                <Link href=\"/\">\n                  <Button type=\"button\" variant=\"outline\" className=\"border-red-800 text-red-800\">\n                    <Home className=\"w-4 h-4 mr-2\" />\n                    Back to Home\n                  </Button>\n                </Link>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  const handleGradeUpdate = async (studentId: number, subject: string, newGrade: number) => {\n    try {\n      const response = await fetch(\"/api/grades\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ studentId, subject, grade: newGrade }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        showAlert({ message: \"Grade updated successfully!\", type: \"success\" })\n        // Reload the page to show updated grades\n        window.location.reload()\n      } else {\n        showAlert({ message: data.error || \"Failed to update grade. Please try again.\", type: \"error\" })\n      }\n    } catch (error) {\n      console.error(\"Grade update error:\", error)\n      showAlert({ message: \"Error updating grade. Please try again.\", type: \"error\" })\n    }\n  }\n\n  const handleJournalSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!teacher || !teacher.id) {\n      showAlert({ message: \"Teacher information not found\", type: \"error\" })\n      return\n    }\n\n    try {\n      const response = await fetch(\"/api/teacher/journal\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          ...journalEntry,\n          teacherId: teacher.id\n        }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        showAlert({ message: \"Journal entry saved successfully!\", type: \"success\" })\n        setShowAddJournal(false)\n        setJournalEntry({ date: \"\", subject: \"\", topic: \"\", activities: \"\", notes: \"\" })\n        // Refresh journal entries\n        fetchJournalEntries()\n      } else {\n        showAlert({ message: data.error || \"Failed to save journal entry. Please try again.\", type: \"error\" })\n      }\n    } catch (error) {\n      console.error(\"Journal submission error:\", error)\n      showAlert({ message: \"Error saving journal entry. Please try again.\", type: \"error\" })\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-md border-b-4 border-red-800\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <Image\n                src=\"/logo.png\"\n                alt=\"Sto Niño de Praga Academy Logo\"\n                width={60}\n                height={60}\n                className=\"rounded-full\"\n              />\n              <div>\n                <h1 className=\"text-xl font-bold text-red-800\">Teacher Portal</h1>\n                <p className=\"text-sm text-gray-600\">Sto Niño de Praga Academy</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <Link href=\"/\">\n                <Button variant=\"outline\" className=\"border-red-800 text-red-800 hover:bg-red-800 hover:text-white\">\n                  <Home className=\"w-4 h-4 mr-2\" />\n                  Home\n                </Button>\n              </Link>\n              <div className=\"text-right\">\n                <p className=\"font-medium text-red-800\">\n                  {teacher.name || \n                   (teacher.first_name && teacher.last_name \n                     ? `${teacher.first_name} ${teacher.last_name}` \n                     : teacher.email)}\n                </p>\n                <p className=\"text-sm text-gray-600\">\n                  {teacher.subjects || teacher.subject || \"Teacher\"}\n                </p>\n              </div>\n              <Button\n                onClick={handleLogout}\n                variant=\"outline\"\n                className=\"border-red-800 text-red-800 hover:bg-red-800 hover:text-white\"\n              >\n                <LogOut className=\"w-4 h-4 mr-2\" />\n                Log Out\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"container mx-auto px-4 py-8\">\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-7 mb-8\">\n            <TabsTrigger value=\"dashboard\" className=\"data-[state=active]:bg-red-800 data-[state=active]:text-white\">\n              <LayoutDashboard className=\"w-4 h-4 mr-2\" />\n              Dashboard\n            </TabsTrigger>\n            <TabsTrigger value=\"account\" className=\"data-[state=active]:bg-red-800 data-[state=active]:text-white\">\n              <User className=\"w-4 h-4 mr-2\" />\n              My Account\n            </TabsTrigger>\n            <TabsTrigger value=\"calendar\" className=\"data-[state=active]:bg-red-800 data-[state=active]:text-white\">\n              <Calendar className=\"w-4 h-4 mr-2\" />\n              Calendar\n            </TabsTrigger>\n            <TabsTrigger value=\"grades\" className=\"data-[state=active]:bg-red-800 data-[state=active]:text-white\">\n              <GraduationCap className=\"w-4 h-4 mr-2\" />\n              Manage Grades\n            </TabsTrigger>\n            <TabsTrigger value=\"journal\" className=\"data-[state=active]:bg-red-800 data-[state=active]:text-white\">\n              <BookOpen className=\"w-4 h-4 mr-2\" />\n              Teaching Journal\n            </TabsTrigger>\n            <TabsTrigger value=\"settings\" className=\"data-[state=active]:bg-red-800 data-[state=active]:text-white\">\n              <Settings className=\"w-4 h-4 mr-2\" />\n              Settings\n            </TabsTrigger>\n            <TabsTrigger value=\"logout\" className=\"data-[state=active]:bg-red-800 data-[state=active]:text-white\">\n              <LogOut className=\"w-4 h-4 mr-2\" />\n              Log Out\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Dashboard Tab */}\n          <TabsContent value=\"dashboard\" className=\"space-y-6\">\n            {/* Stats Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n              <Card className=\"border-l-4 border-l-red-800\">\n                <CardHeader className=\"pb-2\">\n                  <CardDescription>Total Students</CardDescription>\n                  <CardTitle className=\"text-3xl text-red-800\">\n                    {teacherStats?.totalStudents || 0}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <p className=\"text-sm text-gray-600\">Across all your classes</p>\n                </CardContent>\n              </Card>\n\n              <Card className=\"border-l-4 border-l-blue-600\">\n                <CardHeader className=\"pb-2\">\n                  <CardDescription>Classes Today</CardDescription>\n                  <CardTitle className=\"text-3xl text-blue-600\">\n                    {teacherStats?.classesToday || 0}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <p className=\"text-sm text-gray-600\">Scheduled for today</p>\n                </CardContent>\n              </Card>\n\n              <Card className=\"border-l-4 border-l-green-600\">\n                <CardHeader className=\"pb-2\">\n                  <CardDescription>Journal Entries</CardDescription>\n                  <CardTitle className=\"text-3xl text-green-600\">\n                    {teacherStats?.journalEntries || 0}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <p className=\"text-sm text-gray-600\">Total entries recorded</p>\n                </CardContent>\n              </Card>\n\n              <Card className=\"border-l-4 border-l-orange-600\">\n                <CardHeader className=\"pb-2\">\n                  <CardDescription>Pending Grades</CardDescription>\n                  <CardTitle className=\"text-3xl text-orange-600\">\n                    {teacherStats?.pendingGrades || 0}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <p className=\"text-sm text-gray-600\">Awaiting submission</p>\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Today's Schedule */}\n            {teacherStats?.todaySchedule && teacherStats.todaySchedule.length > 0 && (\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-red-800 flex items-center\">\n                    <Clock className=\"w-5 h-5 mr-2\" />\n                    Today's Schedule\n                  </CardTitle>\n                  <CardDescription>Your classes scheduled for today</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-3\">\n                    {teacherStats.todaySchedule.map((item: any, index: number) => (\n                      <div key={index} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                        <div className=\"flex items-center gap-4\">\n                          <div className=\"text-center\">\n                            <div className=\"text-sm font-semibold text-red-800\">{item.timeStart}</div>\n                            <div className=\"text-xs text-gray-500\">{item.timeEnd}</div>\n                          </div>\n                          <div>\n                            <div className=\"font-medium\">{item.subject}</div>\n                            <div className=\"text-sm text-gray-600\">{item.section} • {item.room}</div>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n\n            {/* Announcements */}\n            {teacherStats?.announcements && teacherStats.announcements.length > 0 && (\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-red-800\">Recent Announcements</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-3\">\n                    {teacherStats.announcements.map((announcement: any) => (\n                      <div key={announcement.id} className=\"p-3 border rounded-lg\">\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <h3 className=\"font-semibold text-red-800\">{announcement.title}</h3>\n                            <p className=\"text-sm text-gray-600 mt-1\">{announcement.content}</p>\n                          </div>\n                          {announcement.priority && (\n                            <Badge variant={announcement.priority === 'high' ? 'destructive' : 'default'}>\n                              {announcement.priority}\n                            </Badge>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n\n            {/* Quick Actions */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-red-800\">Quick Actions</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <Button \n                    onClick={() => setActiveTab('grades')}\n                    className=\"bg-red-800 hover:bg-red-700 h-auto py-4\"\n                  >\n                    <GraduationCap className=\"w-5 h-5 mr-2\" />\n                    Manage Grades\n                  </Button>\n                  <Button \n                    onClick={() => setActiveTab('journal')}\n                    variant=\"outline\"\n                    className=\"border-red-800 text-red-800 hover:bg-red-50 h-auto py-4\"\n                  >\n                    <BookOpen className=\"w-5 h-5 mr-2\" />\n                    Add Journal Entry\n                  </Button>\n                  <Button \n                    onClick={() => setActiveTab('calendar')}\n                    variant=\"outline\"\n                    className=\"border-red-800 text-red-800 hover:bg-red-50 h-auto py-4\"\n                  >\n                    <Calendar className=\"w-5 h-5 mr-2\" />\n                    View Schedule\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* My Account Tab */}\n          <TabsContent value=\"account\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-red-800\">My Account Information</CardTitle>\n                <CardDescription>View your account details and information</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-6\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <Card className=\"border-red-200\">\n                      <CardHeader>\n                        <CardTitle className=\"text-lg text-red-800 flex items-center\">\n                          <User className=\"w-5 h-5 mr-2\" />\n                          Personal Information\n                        </CardTitle>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <div>\n                          <Label className=\"text-gray-600\">Full Name</Label>\n                          <p className=\"font-medium text-red-800\">\n                            {teacher.name || \n                             (teacher.first_name && teacher.last_name \n                               ? `${teacher.first_name} ${teacher.last_name}` \n                               : \"Not provided\")}\n                          </p>\n                        </div>\n                        {teacher.first_name && (\n                          <div>\n                            <Label className=\"text-gray-600\">First Name</Label>\n                            <p className=\"font-medium\">{teacher.first_name}</p>\n                          </div>\n                        )}\n                        {teacher.last_name && (\n                          <div>\n                            <Label className=\"text-gray-600\">Last Name</Label>\n                            <p className=\"font-medium\">{teacher.last_name}</p>\n                          </div>\n                        )}\n                        <div>\n                          <Label className=\"text-gray-600 flex items-center\">\n                            <Mail className=\"w-4 h-4 mr-2\" />\n                            Email Address\n                          </Label>\n                          <p className=\"font-medium\">{teacher.email}</p>\n                        </div>\n                      </CardContent>\n                    </Card>\n\n                    <Card className=\"border-red-200\">\n                      <CardHeader>\n                        <CardTitle className=\"text-lg text-red-800 flex items-center\">\n                          <BookOpen className=\"w-5 h-5 mr-2\" />\n                          Teaching Information\n                        </CardTitle>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <div>\n                          <Label className=\"text-gray-600\">Subject(s)</Label>\n                          <p className=\"font-medium text-red-800\">\n                            {teacher.subjects || teacher.subject || \"Not assigned\"}\n                          </p>\n                        </div>\n                        {teacher.teacher_id && (\n                          <div>\n                            <Label className=\"text-gray-600\">Teacher ID</Label>\n                            <p className=\"font-medium\">{teacher.teacher_id}</p>\n                          </div>\n                        )}\n                        {teacher.department && (\n                          <div>\n                            <Label className=\"text-gray-600\">Department</Label>\n                            <p className=\"font-medium\">{teacher.department}</p>\n                          </div>\n                        )}\n                      </CardContent>\n                    </Card>\n                  </div>\n\n                  {/* Additional Information */}\n                  {(teacher.phone || teacher.address || teacher.contact_number) && (\n                    <Card className=\"border-red-200\">\n                      <CardHeader>\n                        <CardTitle className=\"text-lg text-red-800\">Contact Information</CardTitle>\n                      </CardHeader>\n                      <CardContent className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        {teacher.phone && (\n                          <div>\n                            <Label className=\"text-gray-600\">Phone</Label>\n                            <p className=\"font-medium\">{teacher.phone}</p>\n                          </div>\n                        )}\n                        {teacher.contact_number && (\n                          <div>\n                            <Label className=\"text-gray-600\">Contact Number</Label>\n                            <p className=\"font-medium\">{teacher.contact_number}</p>\n                          </div>\n                        )}\n                        {teacher.address && (\n                          <div className=\"md:col-span-2\">\n                            <Label className=\"text-gray-600\">Address</Label>\n                            <p className=\"font-medium\">{teacher.address}</p>\n                          </div>\n                        )}\n                      </CardContent>\n                    </Card>\n                  )}\n\n                  {/* Display all other fields */}\n                  <Card className=\"border-red-200\">\n                    <CardHeader>\n                      <CardTitle className=\"text-lg text-red-800\">Additional Details</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        {Object.entries(teacher)\n                          .filter(([key]) => \n                            !['id', 'email', 'password', 'name', 'first_name', 'last_name', \n                              'subjects', 'subject', 'teacher_id', 'department', 'phone', \n                              'contact_number', 'address'].includes(key))\n                          .map(([key, value]) => (\n                            value && (\n                              <div key={key}>\n                                <Label className=\"text-gray-600 capitalize\">\n                                  {key.replace(/_/g, ' ')}\n                                </Label>\n                                <p className=\"font-medium\">{String(value)}</p>\n                              </div>\n                            )\n                          ))}\n                      </div>\n                    </CardContent>\n                  </Card>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Calendar Tab */}\n          <TabsContent value=\"calendar\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-red-800\">Daily Class Schedule</CardTitle>\n                <CardDescription>View your class schedule timeline for the day</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-6\">\n                  {/* Date Selector */}\n                  <div className=\"flex flex-col gap-3 mb-6\">\n                    <Label htmlFor=\"schedule-date\" className=\"text-sm font-medium\">\n                      Select Date\n                    </Label>\n                    <div className=\"flex items-center gap-4\">\n                      <Popover>\n                        <PopoverTrigger asChild>\n                          <Button\n                            variant=\"outline\"\n                            id=\"schedule-date\"\n                            className=\"w-64 justify-between font-normal border-red-200 hover:bg-red-50\"\n                          >\n                            {new Date(selectedDate).toLocaleDateString('en-US', { \n                              weekday: 'short',\n                              month: 'long', \n                              day: 'numeric', \n                              year: 'numeric' \n                            })}\n                            <ChevronDownIcon className=\"h-4 w-4 opacity-50\" />\n                          </Button>\n                        </PopoverTrigger>\n                        <PopoverContent className=\"w-auto overflow-hidden p-0\" align=\"start\">\n                          <CalendarComponent\n                            mode=\"single\"\n                            selected={selectedDate ? new Date(selectedDate) : new Date()}\n                            captionLayout=\"dropdown\"\n                            onSelect={(date) => {\n                              if (date) {\n                                // Format date in local timezone to avoid off-by-one errors\n                                const year = date.getFullYear()\n                                const month = String(date.getMonth() + 1).padStart(2, '0')\n                                const day = String(date.getDate()).padStart(2, '0')\n                                setSelectedDate(`${year}-${month}-${day}`)\n                              }\n                            }}\n                          />\n                        </PopoverContent>\n                      </Popover>\n                      <Badge variant=\"outline\" className=\"text-sm px-3 py-1\">\n                        {getDayName(selectedDate)}\n                      </Badge>\n                    </div>\n                  </div>\n\n                  {/* Timeline */}\n                  {schedule.length > 0 ? (\n                    <div className=\"relative\">\n                      {/* Timeline line */}\n                      <div className=\"absolute left-8 top-0 bottom-0 w-0.5 bg-red-200\"></div>\n                      \n                      {/* Schedule items */}\n                      <div className=\"space-y-6\">\n                        {schedule.map((item, index) => (\n                          <div key={item.id} className=\"relative flex items-start gap-4\">\n                            {/* Time indicator */}\n                            <div className=\"relative z-10 flex flex-col items-center\">\n                              <div className=\"w-16 h-16 rounded-full bg-red-800 flex items-center justify-center text-white font-semibold shadow-lg\">\n                                <div className=\"text-center\">\n                                  <div className=\"text-xs leading-tight\">{item.timeStart}</div>\n                                  <div className=\"text-xs leading-tight\">-</div>\n                                  <div className=\"text-xs leading-tight\">{item.timeEnd}</div>\n                                </div>\n                              </div>\n                            </div>\n\n                            {/* Schedule card */}\n                            <Card className=\"flex-1 ml-4 border-l-4 border-l-red-800 shadow-md\">\n                              <CardContent className=\"p-4\">\n                                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                                  <div>\n                                    <div className=\"text-sm text-gray-500 mb-1\">Subject</div>\n                                    <div className=\"text-lg font-semibold text-red-800\">{item.subject}</div>\n                                  </div>\n                                  <div>\n                                    <div className=\"text-sm text-gray-500 mb-1\">Room Number</div>\n                                    <div className=\"text-lg font-semibold\">{item.room}</div>\n                                  </div>\n                                  <div>\n                                    <div className=\"text-sm text-gray-500 mb-1\">Section</div>\n                                    <div className=\"text-lg font-semibold\">{item.section}</div>\n                                  </div>\n                                </div>\n                                <div className=\"mt-3 pt-3 border-t flex items-center gap-2 text-sm text-gray-600\">\n                                  <Clock className=\"w-4 h-4\" />\n                                  <span>Duration: {item.timeStart} - {item.timeEnd}</span>\n                                </div>\n                              </CardContent>\n                            </Card>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-12\">\n                      <Calendar className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n                      <p className=\"text-gray-600 mb-2\">No classes scheduled for {getDayName(selectedDate)}</p>\n                      <p className=\"text-sm text-gray-500\">Select a different date to view your schedule</p>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Grades Management Tab */}\n          <TabsContent value=\"grades\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-red-800\">Student Grades Management</CardTitle>\n                <CardDescription>View and update student grades for your classes</CardDescription>\n              </CardHeader>\n              <CardContent>\n                {teacher ? (\n                  <div className=\"space-y-6\">\n                    {/* Filters */}\n                    <div className=\"flex flex-wrap items-center gap-4 pb-4 border-b\">\n                      <div className=\"flex items-center gap-2\">\n                        <Label htmlFor=\"section-select\" className=\"text-sm font-medium\">Section:</Label>\n                        <Select value={selectedSection} onValueChange={setSelectedSection}>\n                          <SelectTrigger id=\"section-select\" className=\"w-40\">\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"Section A\">Section A</SelectItem>\n                            <SelectItem value=\"Section B\">Section B</SelectItem>\n                            <SelectItem value=\"Section C\">Section C</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Label htmlFor=\"quarter-select\" className=\"text-sm font-medium\">Quarter:</Label>\n                        <Select value={selectedQuarter} onValueChange={setSelectedQuarter}>\n                          <SelectTrigger id=\"quarter-select\" className=\"w-32\">\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"Q1\">Q1</SelectItem>\n                            <SelectItem value=\"Q2\">Q2</SelectItem>\n                            <SelectItem value=\"Q3\">Q3</SelectItem>\n                            <SelectItem value=\"Q4\">Q4</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div className=\"ml-auto\">\n                        <Badge variant=\"outline\" className=\"text-sm\">\n                          Subject: {teacher.subject || teacher.subjects || teacher.specialization || \"N/A\"}\n                        </Badge>\n                      </div>\n                    </div>\n\n                    {isLoadingData ? (\n                      <div className=\"text-center py-12\">\n                        <div className=\"text-xl font-bold text-red-800\">Loading grades data...</div>\n                      </div>\n                    ) : gradesData.length === 0 ? (\n                      <div className=\"text-center py-12\">\n                        <GraduationCap className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n                        <p className=\"text-gray-600 mb-2\">No students found for {selectedSection}</p>\n                        <p className=\"text-sm text-gray-500\">Select a different section or make sure students are enrolled in your classes.</p>\n                      </div>\n                    ) : (\n                      <>\n                        {/* Grading System Info */}\n                        {(() => {\n                          const teacherSubject = teacher.subject || teacher.subjects || teacher.specialization || \"Mathematics\"\n                      const weights = getGradingWeights(teacherSubject)\n                      return (\n                        <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\n                          <div className=\"text-sm font-semibold text-blue-900 mb-2\">Grading System ({teacherSubject}):</div>\n                          <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                            <div>\n                              <span className=\"font-medium\">Written Work: </span>\n                              <span className=\"text-blue-700\">{weights.writtenWork}%</span>\n                            </div>\n                            <div>\n                              <span className=\"font-medium\">Performance Tasks: </span>\n                              <span className=\"text-blue-700\">{weights.performanceTasks}%</span>\n                            </div>\n                            <div>\n                              <span className=\"font-medium\">Quarterly Assessment: </span>\n                              <span className=\"text-blue-700\">{weights.quarterlyAssessment}%</span>\n                            </div>\n                          </div>\n                        </div>\n                      )\n                    })()}\n\n                    {/* Spreadsheet-like Grades Table */}\n                    <div className=\"overflow-x-auto border rounded-lg\">\n                      <Table>\n                        <TableHeader>\n                          <TableRow className=\"bg-red-800 text-white\">\n                            <TableHead className=\"text-white font-bold sticky left-0 bg-red-800 z-10 min-w-[150px]\">\n                              Student Name\n                            </TableHead>\n                            <TableHead className=\"text-white font-bold sticky left-[150px] bg-red-800 z-10 min-w-[100px]\">\n                              Student No.\n                            </TableHead>\n                            <TableHead colSpan={5} className=\"text-white font-bold text-center border-l-2 border-white\">\n                              Written Work ({(() => {\n                                const teacherSubject = teacher.subject || teacher.subjects || \"Mathematics\"\n                                return getGradingWeights(teacherSubject).writtenWork\n                              })()}%)\n                            </TableHead>\n                            <TableHead colSpan={5} className=\"text-white font-bold text-center border-l-2 border-white\">\n                              Performance Tasks ({(() => {\n                                const teacherSubject = teacher.subject || teacher.subjects || \"Mathematics\"\n                                return getGradingWeights(teacherSubject).performanceTasks\n                              })()}%)\n                            </TableHead>\n                            <TableHead className=\"text-white font-bold text-center border-l-2 border-white min-w-[120px]\">\n                              Quarterly Assessment ({(() => {\n                                const teacherSubject = teacher.subject || teacher.subjects || \"Mathematics\"\n                                return getGradingWeights(teacherSubject).quarterlyAssessment\n                              })()}%)\n                            </TableHead>\n                            <TableHead className=\"text-white font-bold text-center border-l-2 border-white min-w-[100px]\">\n                              Final Grade\n                            </TableHead>\n                          </TableRow>\n                          <TableRow className=\"bg-gray-100\">\n                            <TableHead className=\"sticky left-0 bg-gray-100 z-10\"></TableHead>\n                            <TableHead className=\"sticky left-[150px] bg-gray-100 z-10\"></TableHead>\n                            {Array.from({ length: 5 }).map((_, i) => (\n                              <TableHead key={`ww-${i}`} className=\"text-center text-xs border-l min-w-[80px]\">\n                                WW{i + 1}\n                              </TableHead>\n                            ))}\n                            {Array.from({ length: 5 }).map((_, i) => (\n                              <TableHead key={`pt-${i}`} className=\"text-center text-xs border-l min-w-[80px]\">\n                                PT{i + 1}\n                              </TableHead>\n                            ))}\n                            <TableHead className=\"text-center text-xs border-l\"></TableHead>\n                            <TableHead className=\"text-center text-xs border-l\"></TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {gradesData.map((student) => (\n                            <TableRow key={student.id} className=\"hover:bg-gray-50\">\n                              <TableCell className=\"font-medium sticky left-0 bg-white z-10 border-r\">\n                                {student.name}\n                              </TableCell>\n                              <TableCell className=\"sticky left-[150px] bg-white z-10 border-r\">\n                                {student.studentNumber}\n                              </TableCell>\n                              {/* Written Work cells */}\n                              {student.writtenWork.map((score: string, index: number) => (\n                                <TableCell key={`ww-${student.id}-${index}`} className=\"p-0 border-l\">\n                                  <Input\n                                    type=\"number\"\n                                    min=\"0\"\n                                    max=\"100\"\n                                    step=\"0.01\"\n                                    value={score}\n                                    onChange={(e) =>\n                                      updateGrade(student.id, \"writtenWork\", index, e.target.value)\n                                    }\n                                    className=\"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10\"\n                                    placeholder=\"0\"\n                                  />\n                                </TableCell>\n                              ))}\n                              {/* Performance Tasks cells */}\n                              {student.performanceTasks.map((score: string, index: number) => (\n                                <TableCell key={`pt-${student.id}-${index}`} className=\"p-0 border-l\">\n                                  <Input\n                                    type=\"number\"\n                                    min=\"0\"\n                                    max=\"100\"\n                                    step=\"0.01\"\n                                    value={score}\n                                    onChange={(e) =>\n                                      updateGrade(student.id, \"performanceTasks\", index, e.target.value)\n                                    }\n                                    className=\"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10\"\n                                    placeholder=\"0\"\n                                  />\n                                </TableCell>\n                              ))}\n                              {/* Quarterly Assessment cell */}\n                              <TableCell className=\"p-0 border-l\">\n                                <Input\n                                  type=\"number\"\n                                  min=\"0\"\n                                  max=\"100\"\n                                  step=\"0.01\"\n                                  value={student.quarterlyAssessment}\n                                  onChange={(e) =>\n                                    updateGrade(student.id, \"quarterlyAssessment\", null, e.target.value)\n                                  }\n                                  className=\"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10\"\n                                  placeholder=\"0\"\n                                />\n                              </TableCell>\n                              {/* Final Grade cell */}\n                              <TableCell className=\"text-center font-bold text-red-800 border-l bg-gray-50\">\n                                {calculateFinalGrade(student) || \"-\"}\n                              </TableCell>\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                    </div>\n\n                    {/* Save and Export Buttons */}\n                    <div className=\"flex justify-end gap-3\">\n                      <Button\n                        onClick={handleExportToCSV}\n                        variant=\"outline\"\n                        className=\"border-red-800 text-red-800 hover:bg-red-50\"\n                      >\n                        <Download className=\"w-4 h-4 mr-2\" />\n                        Export to CSV\n                      </Button>\n                      <Button\n                        onClick={handleSaveGrades}\n                        disabled={isSavingGrades}\n                        className=\"bg-red-800 hover:bg-red-900\"\n                      >\n                        {isSavingGrades ? (\n                          <>\n                            <Save className=\"w-4 h-4 mr-2 animate-spin\" />\n                            Saving...\n                          </>\n                        ) : (\n                          <>\n                            <Save className=\"w-4 h-4 mr-2\" />\n                            Save Grades\n                          </>\n                        )}\n                      </Button>\n                    </div>\n                      </>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"text-center py-12\">\n                    <GraduationCap className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n                    <p className=\"text-gray-600\">Please log in to manage grades.</p>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Teaching Journal Tab */}\n          <TabsContent value=\"journal\" className=\"space-y-6\">\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between\">\n                <div>\n                  <CardTitle className=\"text-red-800\">Teaching Journal</CardTitle>\n                  <CardDescription>Record your daily teaching activities and observations</CardDescription>\n                </div>\n                <Dialog open={showAddJournal} onOpenChange={setShowAddJournal}>\n                  <DialogTrigger asChild>\n                    <Button className=\"bg-red-800 hover:bg-red-700\">\n                      <Plus className=\"w-4 h-4 mr-2\" />\n                      Add Entry\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent className=\"max-w-2xl\">\n                    <DialogHeader>\n                      <DialogTitle>Add Journal Entry</DialogTitle>\n                      <DialogDescription>Record your teaching activities for today</DialogDescription>\n                    </DialogHeader>\n                    <form onSubmit={handleJournalSubmit} className=\"space-y-4\">\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <div className=\"flex flex-col gap-2\">\n                          <Label htmlFor=\"journal-date\">Date</Label>\n                          <Popover modal={true}>\n                            <PopoverTrigger asChild>\n                              <Button\n                                variant=\"outline\"\n                                id=\"journal-date\"\n                                className=\"justify-between font-normal\"\n                                type=\"button\"\n                              >\n                                {journalEntry.date \n                                  ? new Date(journalEntry.date).toLocaleDateString('en-US', { \n                                      month: 'short', \n                                      day: 'numeric', \n                                      year: 'numeric' \n                                    })\n                                  : \"Select date\"}\n                                <ChevronDownIcon className=\"h-4 w-4 opacity-50\" />\n                              </Button>\n                            </PopoverTrigger>\n                            <PopoverContent className=\"w-auto overflow-hidden p-0 z-[9999]\" align=\"start\">\n                              <CalendarComponent\n                                mode=\"single\"\n                                selected={journalEntry.date ? new Date(journalEntry.date) : undefined}\n                                captionLayout=\"dropdown\"\n                                onSelect={(date) => {\n                                  if (date) {\n                                    const year = date.getFullYear()\n                                    const month = String(date.getMonth() + 1).padStart(2, '0')\n                                    const day = String(date.getDate()).padStart(2, '0')\n                                    setJournalEntry({ ...journalEntry, date: `${year}-${month}-${day}` })\n                                  }\n                                }}\n                              />\n                            </PopoverContent>\n                          </Popover>\n                        </div>\n                        <div>\n                          <Label htmlFor=\"subject\">Subject</Label>\n                          <Select onValueChange={(value) => setJournalEntry({ ...journalEntry, subject: value })}>\n                            <SelectTrigger>\n                              <SelectValue placeholder=\"Select subject\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"mathematics\">Mathematics</SelectItem>\n                              <SelectItem value=\"science\">Science</SelectItem>\n                              <SelectItem value=\"english\">English</SelectItem>\n                              <SelectItem value=\"filipino\">Filipino</SelectItem>\n                            </SelectContent>\n                          </Select>\n                        </div>\n                      </div>\n                      <div>\n                        <Label htmlFor=\"topic\">Topic/Lesson</Label>\n                        <Input\n                          id=\"topic\"\n                          value={journalEntry.topic}\n                          onChange={(e) => setJournalEntry({ ...journalEntry, topic: e.target.value })}\n                          placeholder=\"Enter the lesson topic\"\n                          required\n                        />\n                      </div>\n                      <div>\n                        <Label htmlFor=\"activities\">Activities Conducted</Label>\n                        <Textarea\n                          id=\"activities\"\n                          value={journalEntry.activities}\n                          onChange={(e) => setJournalEntry({ ...journalEntry, activities: e.target.value })}\n                          placeholder=\"Describe the activities and methods used\"\n                          rows={3}\n                          required\n                        />\n                      </div>\n                      <div>\n                        <Label htmlFor=\"notes\">Notes & Observations</Label>\n                        <Textarea\n                          id=\"notes\"\n                          value={journalEntry.notes}\n                          onChange={(e) => setJournalEntry({ ...journalEntry, notes: e.target.value })}\n                          placeholder=\"Student responses, challenges, improvements needed, etc.\"\n                          rows={3}\n                        />\n                      </div>\n                      <Button type=\"submit\" className=\"w-full bg-red-800 hover:bg-red-700\">\n                        Save Entry\n                      </Button>\n                    </form>\n                  </DialogContent>\n                </Dialog>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {journalEntries.length > 0 ? (\n                    <div className=\"space-y-4\">\n                      {journalEntries.map((entry: any) => (\n                        <Card key={entry.id} className=\"border-l-4 border-l-red-800\">\n                          <CardHeader>\n                            <div className=\"flex items-start justify-between\">\n                              <div>\n                                <CardTitle className=\"text-lg text-red-800\">{entry.topic}</CardTitle>\n                                <CardDescription>\n                                  {entry.subject} • {new Date(entry.date).toLocaleDateString('en-US', { \n                                    year: 'numeric', \n                                    month: 'long', \n                                    day: 'numeric' \n                                  })}\n                                </CardDescription>\n                              </div>\n                            </div>\n                          </CardHeader>\n                          <CardContent className=\"space-y-3\">\n                            <div>\n                              <Label className=\"text-sm font-semibold text-gray-700\">Activities Conducted:</Label>\n                              <p className=\"text-sm text-gray-600 mt-1\">{entry.activities}</p>\n                            </div>\n                            {entry.notes && (\n                              <div>\n                                <Label className=\"text-sm font-semibold text-gray-700\">Notes & Observations:</Label>\n                                <p className=\"text-sm text-gray-600 mt-1\">{entry.notes}</p>\n                              </div>\n                            )}\n                          </CardContent>\n                        </Card>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-12\">\n                      <BookOpen className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n                      <p className=\"text-gray-600 mb-4\">No journal entries yet.</p>\n                      <p className=\"text-sm text-gray-500\">Click \"Add Entry\" to create your first journal entry.</p>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Settings Tab */}\n          <TabsContent value=\"settings\" className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-red-800\">Settings</CardTitle>\n                <CardDescription>Manage your account settings and preferences</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-6\">\n                  <div className=\"text-center py-12\">\n                    <Settings className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n                    <p className=\"text-gray-600 mb-4\">Settings panel will be available here.</p>\n                    <p className=\"text-sm text-gray-500\">Configure your account preferences and notification settings.</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Logout Tab */}\n          <TabsContent value=\"logout\" className=\"space-y-6\">\n            <Card className=\"text-center py-12\">\n              <CardContent>\n                <LogOut className=\"w-16 h-16 text-red-800 mx-auto mb-4\" />\n                <h3 className=\"text-2xl font-bold text-red-800 mb-4\">Logout Confirmation</h3>\n                <p className=\"text-gray-600 mb-6\">Are you sure you want to log out of the Teacher Portal?</p>\n                <div className=\"space-x-4\">\n                  <Button onClick={handleLogout} className=\"bg-red-800 hover:bg-red-700\">\n                    Yes, Log Out\n                  </Button>\n                  <Button variant=\"outline\" onClick={() => setActiveTab(\"dashboard\")}>\n                    Cancel\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n"],"names":[],"mappings":"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","ignoreList":[1]}