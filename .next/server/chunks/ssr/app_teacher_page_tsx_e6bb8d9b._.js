module.exports=[49405,a=>{"use strict";var b=a.i(95526),c=a.i(54161),d=a.i(40695),e=a.i(30330),f=a.i(3130),g=a.i(65733),h=a.i(5522),i=a.i(17171),j=a.i(30342),k=a.i(87682),l=a.i(88237),m=a.i(21958),n=a.i(46893),o=a.i(7291),p=a.i(35393),q=a.i(82804),r=a.i(78644),s=a.i(85382),t=a.i(65840),u=a.i(67162),v=a.i(46916),w=a.i(18824),x=a.i(21672),y=a.i(83518),z=a.i(67814),A=a.i(64213),B=a.i(22188);let C=(0,a.i(42890).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var D=a.i(31645),E=a.i(13906),F=a.i(63959),G=a.i(41819),H=a.i(4640),I=a.i(21113);function J(){let a,J,[K,L]=(0,I.useState)(null),[M,N]=(0,I.useState)(!0),[O,P]=(0,I.useState)(""),[Q,R]=(0,I.useState)(""),[S,T]=(0,I.useState)(null),[U,V]=(0,I.useState)(!1),[W,X]=(0,I.useState)("dashboard"),[Y,Z]=(0,I.useState)(null),[$,_]=(0,I.useState)({date:"",subject:"",topic:"",activities:"",notes:""}),[aa,ab]=(0,I.useState)(!1),[ac,ad]=(0,I.useState)([]),[ae,af]=(0,I.useState)(new Date().toISOString().split("T")[0]),[ag,ah]=(0,I.useState)("Section A"),[ai,aj]=(0,I.useState)("Q1"),[ak,al]=(0,I.useState)([]),[am,an]=(0,I.useState)(!1),[ao,ap]=(0,I.useState)(null),[aq,ar]=(0,I.useState)([]),[as,at]=(0,I.useState)(!1),au=a=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(a).getDay()],av=a=>{let b=a?.toLowerCase()||"";return b.includes("filipino")||b.includes("english")||b.includes("araling panlipunan")||b.includes("ap")||b.includes("esp")||b.includes("edukasyon sa pagpapakatao")||b.includes("mother tongue")||b.includes("mt")?{writtenWork:30,performanceTasks:50,quarterlyAssessment:20}:b.includes("science")||b.includes("mathematics")||b.includes("math")?{writtenWork:40,performanceTasks:40,quarterlyAssessment:20}:b.includes("mapeh")||b.includes("music")||b.includes("arts")||b.includes("physical education")||b.includes("health")||b.includes("epp")||b.includes("tle")||b.includes("technology")||b.includes("livelihood")||b.includes("elective")||b.includes("writing")?{writtenWork:20,performanceTasks:60,quarterlyAssessment:20}:{writtenWork:30,performanceTasks:50,quarterlyAssessment:20}};(0,I.useEffect)(()=>{K&&K.id&&aw()},[K,ag,ai]);let aw=async()=>{if(K&&K.id){at(!0);try{let a=K.subject||K.subjects||K.specialization||"General",b=await fetch(`/api/teacher/grades?teacherId=${K.id}&section=${ag}&subject=${encodeURIComponent(a)}`),c=await b.json();c.success&&c.data&&al(c.data)}catch(a){console.error("Error fetching grades:",a)}finally{at(!1)}}},ax=a=>{let b=av(K?.subject||K?.subjects||"Mathematics"),c=a.writtenWork.map(a=>parseFloat(a)||0).filter(a=>a>0),d=c.length>0?c.reduce((a,b)=>a+b,0)/c.length:0,e=a.performanceTasks.map(a=>parseFloat(a)||0).filter(a=>a>0),f=e.length>0?e.reduce((a,b)=>a+b,0)/e.length:0,g=parseFloat(a.quarterlyAssessment)||0,h=d*b.writtenWork/100+f*b.performanceTasks/100+g*b.quarterlyAssessment/100;return h>0?h.toFixed(2):""},ay=(a,b,c,d)=>{al(e=>e.map(e=>{if(e.id===a)if(null===c)return{...e,[b]:d};else{let a=[...e[b]];return a[c]=d,{...e,[b]:a}}return e}))},{showAlert:az}=(0,p.useAlert)(),{showConfirm:aA}=(0,q.useConfirm)(),aB=async()=>{if(!K||!K.id)return void az({message:"Teacher information not found",type:"error"});an(!0);try{let a=K.subject||K.subjects||K.specialization||"General",b=await fetch("/api/teacher/grades",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teacherId:K.id,subject:a,section:ag,quarter:ai,grades:ak})}),c=await b.json();c.success?az({message:"Grades saved successfully!",type:"success"}):az({message:c.error||"Failed to save grades",type:"error"})}catch(a){console.error("Error saving grades:",a),az({message:"Error saving grades. Please try again.",type:"error"})}finally{an(!1)}};(0,I.useEffect)(()=>{K&&K.id&&aC()},[ae,K]);let aC=async()=>{if(K&&K.id)try{let a=await fetch(`/api/teacher/schedule?teacherId=${K.id}&date=${ae}`),b=await a.json();b.success&&b.data&&ad(b.data)}catch(a){console.error("Error fetching schedule:",a)}};(0,I.useEffect)(()=>{K&&K.id&&(aD(),aE())},[K]);let aD=async()=>{if(K&&K.id)try{let a=await fetch(`/api/teacher/stats?teacherId=${K.id}`),b=await a.json();b.success&&b.data&&ap(b.data)}catch(a){console.error("Error fetching teacher stats:",a)}},aE=async()=>{if(K&&K.id)try{let a=await fetch(`/api/teacher/journal?teacherId=${K.id}`),b=await a.json();b.success&&b.data&&ar(b.data)}catch(a){console.error("Error fetching journal entries:",a)}};(0,I.useEffect)(()=>{let a=localStorage.getItem("teacher");if(a)try{let b=JSON.parse(a);L(b)}catch(a){console.error("Error parsing stored teacher data:",a),localStorage.removeItem("teacher")}N(!1)},[]);let aF=async a=>{a.preventDefault(),V(!0),T(null);try{let a=await fetch("/api/teacher/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:O,password:Q})});if(!a.ok){let b=await a.json().catch(()=>({error:"Network error occurred"}));T(b.error||`Server error (${a.status}). Please try again.`);return}let b=await a.json();b.success&&b.teacher?(L(b.teacher),localStorage.setItem("teacher",JSON.stringify(b.teacher)),P(""),R(""),T(null)):T(b.error||"Login failed. Please check your credentials.")}catch(b){console.error("Login error:",b);let a=b?.message||String(b)||"";a&&(a.includes("fetch")||a.includes("network"))?T("Network error. Please check your internet connection and try again."):a&&a.includes("Failed to fetch")?T("Cannot connect to the server. Please make sure the server is running."):T(`An error occurred: ${a||"Please try again."}`)}finally{V(!1)}},aG=async()=>{await aA({message:"Are you sure you want to log out?",confirmText:"Logout",cancelText:"Cancel",variant:"destructive"})&&(await o.supabase.auth.signOut(),localStorage.removeItem("teacher"),L(null),window.location.href="/")};if(M)return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("div",{className:"text-xl font-bold text-red-800",children:"Loading..."})})});if(!K)return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 flex items-center justify-center",children:(0,b.jsxs)(f.Card,{className:"w-full max-w-md border-red-200",children:[(0,b.jsxs)(f.CardHeader,{className:"text-center",children:[(0,b.jsx)("div",{className:"flex justify-center mb-4",children:(0,b.jsx)(G.default,{src:"/logo.png",alt:"Sto Niño de Praga Academy Logo",width:80,height:80,className:"rounded-full"})}),(0,b.jsx)(f.CardTitle,{className:"text-2xl font-bold text-red-800",children:"Teacher Login"}),(0,b.jsx)(f.CardDescription,{children:"Sto Niño de Praga Academy"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("form",{onSubmit:aF,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"email",className:"text-red-800",children:[(0,b.jsx)(B.Mail,{className:"w-4 h-4 inline mr-2"}),"Email"]}),(0,b.jsx)(h.Input,{id:"email",type:"email",placeholder:"teacher@example.com",value:O,onChange:a=>P(a.target.value),required:!0,className:"border-red-200"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"password",className:"text-red-800",children:[(0,b.jsx)(z.Lock,{className:"w-4 h-4 inline mr-2"}),"Password"]}),(0,b.jsx)(h.Input,{id:"password",type:"password",placeholder:"Enter your password",value:Q,onChange:a=>R(a.target.value),required:!0,className:"border-red-200"})]}),S&&(0,b.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:S}),(0,b.jsx)(d.Button,{type:"submit",disabled:U,className:"w-full bg-red-800 hover:bg-red-700",children:U?"Logging in...":"Login"}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)(H.default,{href:"/",children:(0,b.jsxs)(d.Button,{type:"button",variant:"outline",className:"border-red-800 text-red-800",children:[(0,b.jsx)(x.Home,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})]})})]})});let aH=async a=>{if(a.preventDefault(),!K||!K.id)return void az({message:"Teacher information not found",type:"error"});try{let a=await fetch("/api/teacher/journal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...$,teacherId:K.id})}),b=await a.json();b.success?(az({message:"Journal entry saved successfully!",type:"success"}),ab(!1),_({date:"",subject:"",topic:"",activities:"",notes:""}),aE()):az({message:b.error||"Failed to save journal entry. Please try again.",type:"error"})}catch(a){console.error("Journal submission error:",a),az({message:"Error saving journal entry. Please try again.",type:"error"})}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50",children:[(0,b.jsx)("header",{className:"bg-white shadow-md border-b-4 border-red-800",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(G.default,{src:"/logo.png",alt:"Sto Niño de Praga Academy Logo",width:60,height:60,className:"rounded-full"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-red-800",children:"Teacher Portal"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Sto Niño de Praga Academy"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(H.default,{href:"/",children:(0,b.jsxs)(d.Button,{variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white",children:[(0,b.jsx)(x.Home,{className:"w-4 h-4 mr-2"}),"Home"]})}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"font-medium text-red-800",children:K.name||(K.first_name&&K.last_name?`${K.first_name} ${K.last_name}`:K.email)}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:K.subjects||K.subject||"Teacher"})]}),(0,b.jsxs)(d.Button,{onClick:aG,variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white",children:[(0,b.jsx)(A.LogOut,{className:"w-4 h-4 mr-2"}),"Log Out"]})]})]})})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)(m.Tabs,{value:W,onValueChange:X,className:"w-full",children:[(0,b.jsxs)(m.TabsList,{className:"grid w-full grid-cols-7 mb-8",children:[(0,b.jsxs)(m.TabsTrigger,{value:"dashboard",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(y.LayoutDashboard,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),(0,b.jsxs)(m.TabsTrigger,{value:"account",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(F.User,{className:"w-4 h-4 mr-2"}),"My Account"]}),(0,b.jsxs)(m.TabsTrigger,{value:"calendar",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(s.Calendar,{className:"w-4 h-4 mr-2"}),"Calendar"]}),(0,b.jsxs)(m.TabsTrigger,{value:"grades",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(w.GraduationCap,{className:"w-4 h-4 mr-2"}),"Manage Grades"]}),(0,b.jsxs)(m.TabsTrigger,{value:"journal",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(r.BookOpen,{className:"w-4 h-4 mr-2"}),"Teaching Journal"]}),(0,b.jsxs)(m.TabsTrigger,{value:"settings",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(E.Settings,{className:"w-4 h-4 mr-2"}),"Settings"]}),(0,b.jsxs)(m.TabsTrigger,{value:"logout",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(A.LogOut,{className:"w-4 h-4 mr-2"}),"Log Out"]})]}),(0,b.jsxs)(m.TabsContent,{value:"dashboard",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsxs)(f.Card,{className:"border-l-4 border-l-red-800",children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsx)(f.CardDescription,{children:"Total Students"}),(0,b.jsx)(f.CardTitle,{className:"text-3xl text-red-800",children:ao?.totalStudents||0})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Across all your classes"})})]}),(0,b.jsxs)(f.Card,{className:"border-l-4 border-l-blue-600",children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsx)(f.CardDescription,{children:"Classes Today"}),(0,b.jsx)(f.CardTitle,{className:"text-3xl text-blue-600",children:ao?.classesToday||0})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Scheduled for today"})})]}),(0,b.jsxs)(f.Card,{className:"border-l-4 border-l-green-600",children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsx)(f.CardDescription,{children:"Journal Entries"}),(0,b.jsx)(f.CardTitle,{className:"text-3xl text-green-600",children:ao?.journalEntries||0})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Total entries recorded"})})]}),(0,b.jsxs)(f.Card,{className:"border-l-4 border-l-orange-600",children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsx)(f.CardDescription,{children:"Pending Grades"}),(0,b.jsx)(f.CardTitle,{className:"text-3xl text-orange-600",children:ao?.pendingGrades||0})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Awaiting submission"})})]})]}),ao?.todaySchedule&&ao.todaySchedule.length>0&&(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"text-red-800 flex items-center",children:[(0,b.jsx)(u.Clock,{className:"w-5 h-5 mr-2"}),"Today's Schedule"]}),(0,b.jsx)(f.CardDescription,{children:"Your classes scheduled for today"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:ao.todaySchedule.map((a,c)=>(0,b.jsx)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-red-800",children:a.timeStart}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.timeEnd})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.subject}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[a.section," • ",a.room]})]})]})},c))})})]}),ao?.announcements&&ao.announcements.length>0&&(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-red-800",children:"Recent Announcements"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:ao.announcements.map(a=>(0,b.jsx)("div",{className:"p-3 border rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-red-800",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.content})]}),a.priority&&(0,b.jsx)(c.Badge,{variant:"high"===a.priority?"destructive":"default",children:a.priority})]})},a.id))})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-red-800",children:"Quick Actions"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)(d.Button,{onClick:()=>X("grades"),className:"bg-red-800 hover:bg-red-700 h-auto py-4",children:[(0,b.jsx)(w.GraduationCap,{className:"w-5 h-5 mr-2"}),"Manage Grades"]}),(0,b.jsxs)(d.Button,{onClick:()=>X("journal"),variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-50 h-auto py-4",children:[(0,b.jsx)(r.BookOpen,{className:"w-5 h-5 mr-2"}),"Add Journal Entry"]}),(0,b.jsxs)(d.Button,{onClick:()=>X("calendar"),variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-50 h-auto py-4",children:[(0,b.jsx)(s.Calendar,{className:"w-5 h-5 mr-2"}),"View Schedule"]})]})})]})]}),(0,b.jsx)(m.TabsContent,{value:"account",className:"space-y-6",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{className:"text-red-800",children:"My Account Information"}),(0,b.jsx)(f.CardDescription,{children:"View your account details and information"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)(f.Card,{className:"border-red-200",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"text-lg text-red-800 flex items-center",children:[(0,b.jsx)(F.User,{className:"w-5 h-5 mr-2"}),"Personal Information"]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{className:"text-gray-600",children:"Full Name"}),(0,b.jsx)("p",{className:"font-medium text-red-800",children:K.name||(K.first_name&&K.last_name?`${K.first_name} ${K.last_name}`:"Not provided")})]}),K.first_name&&(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{className:"text-gray-600",children:"First Name"}),(0,b.jsx)("p",{className:"font-medium",children:K.first_name})]}),K.last_name&&(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{className:"text-gray-600",children:"Last Name"}),(0,b.jsx)("p",{className:"font-medium",children:K.last_name})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)(i.Label,{className:"text-gray-600 flex items-center",children:[(0,b.jsx)(B.Mail,{className:"w-4 h-4 mr-2"}),"Email Address"]}),(0,b.jsx)("p",{className:"font-medium",children:K.email})]})]})]}),(0,b.jsxs)(f.Card,{className:"border-red-200",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"text-lg text-red-800 flex items-center",children:[(0,b.jsx)(r.BookOpen,{className:"w-5 h-5 mr-2"}),"Teaching Information"]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{className:"text-gray-600",children:"Subject(s)"}),(0,b.jsx)("p",{className:"font-medium text-red-800",children:K.subjects||K.subject||"Not assigned"})]}),K.teacher_id&&(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{className:"text-gray-600",children:"Teacher ID"}),(0,b.jsx)("p",{className:"font-medium",children:K.teacher_id})]}),K.department&&(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{className:"text-gray-600",children:"Department"}),(0,b.jsx)("p",{className:"font-medium",children:K.department})]})]})]})]}),(K.phone||K.address||K.contact_number)&&(0,b.jsxs)(f.Card,{className:"border-red-200",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-lg text-red-800",children:"Contact Information"})}),(0,b.jsxs)(f.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[K.phone&&(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{className:"text-gray-600",children:"Phone"}),(0,b.jsx)("p",{className:"font-medium",children:K.phone})]}),K.contact_number&&(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{className:"text-gray-600",children:"Contact Number"}),(0,b.jsx)("p",{className:"font-medium",children:K.contact_number})]}),K.address&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)(i.Label,{className:"text-gray-600",children:"Address"}),(0,b.jsx)("p",{className:"font-medium",children:K.address})]})]})]}),(0,b.jsxs)(f.Card,{className:"border-red-200",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-lg text-red-800",children:"Additional Details"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(K).filter(([a])=>!["id","email","password","name","first_name","last_name","subjects","subject","teacher_id","department","phone","contact_number","address"].includes(a)).map(([a,c])=>c&&(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{className:"text-gray-600 capitalize",children:a.replace(/_/g," ")}),(0,b.jsx)("p",{className:"font-medium",children:String(c)})]},a))})})]})]})})]})}),(0,b.jsx)(m.TabsContent,{value:"calendar",className:"space-y-6",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{className:"text-red-800",children:"Daily Class Schedule"}),(0,b.jsx)(f.CardDescription,{children:"View your class schedule timeline for the day"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3 mb-6",children:[(0,b.jsx)(i.Label,{htmlFor:"schedule-date",className:"text-sm font-medium",children:"Select Date"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(j.Popover,{children:[(0,b.jsx)(j.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{variant:"outline",id:"schedule-date",className:"w-64 justify-between font-normal border-red-200 hover:bg-red-50",children:[new Date(ae).toLocaleDateString("en-US",{weekday:"short",month:"long",day:"numeric",year:"numeric"}),(0,b.jsx)(t.ChevronDownIcon,{className:"h-4 w-4 opacity-50"})]})}),(0,b.jsx)(j.PopoverContent,{className:"w-auto overflow-hidden p-0",align:"start",children:(0,b.jsx)(e.Calendar,{mode:"single",selected:ae?new Date(ae):new Date,captionLayout:"dropdown",onSelect:a=>{if(a){let b=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");af(`${b}-${c}-${d}`)}}})})]}),(0,b.jsx)(c.Badge,{variant:"outline",className:"text-sm px-3 py-1",children:au(ae)})]})]}),ac.length>0?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-red-200"}),(0,b.jsx)("div",{className:"space-y-6",children:ac.map((a,c)=>(0,b.jsxs)("div",{className:"relative flex items-start gap-4",children:[(0,b.jsx)("div",{className:"relative z-10 flex flex-col items-center",children:(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-800 flex items-center justify-center text-white font-semibold shadow-lg",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-xs leading-tight",children:a.timeStart}),(0,b.jsx)("div",{className:"text-xs leading-tight",children:"-"}),(0,b.jsx)("div",{className:"text-xs leading-tight",children:a.timeEnd})]})})}),(0,b.jsx)(f.Card,{className:"flex-1 ml-4 border-l-4 border-l-red-800 shadow-md",children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Subject"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-red-800",children:a.subject})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Room Number"}),(0,b.jsx)("div",{className:"text-lg font-semibold",children:a.room})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Section"}),(0,b.jsx)("div",{className:"text-lg font-semibold",children:a.section})]})]}),(0,b.jsxs)("div",{className:"mt-3 pt-3 border-t flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)(u.Clock,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:["Duration: ",a.timeStart," - ",a.timeEnd]})]})]})})]},a.id))})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(s.Calendar,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsxs)("p",{className:"text-gray-600 mb-2",children:["No classes scheduled for ",au(ae)]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Select a different date to view your schedule"})]})]})})]})}),(0,b.jsx)(m.TabsContent,{value:"grades",className:"space-y-6",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{className:"text-red-800",children:"Student Grades Management"}),(0,b.jsx)(f.CardDescription,{children:"View and update student grades for your classes"})]}),(0,b.jsx)(f.CardContent,{children:K?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 pb-4 border-b",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"section-select",className:"text-sm font-medium",children:"Section:"}),(0,b.jsxs)(k.Select,{value:ag,onValueChange:ah,children:[(0,b.jsx)(k.SelectTrigger,{id:"section-select",className:"w-40",children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"Section A",children:"Section A"}),(0,b.jsx)(k.SelectItem,{value:"Section B",children:"Section B"}),(0,b.jsx)(k.SelectItem,{value:"Section C",children:"Section C"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"quarter-select",className:"text-sm font-medium",children:"Quarter:"}),(0,b.jsxs)(k.Select,{value:ai,onValueChange:aj,children:[(0,b.jsx)(k.SelectTrigger,{id:"quarter-select",className:"w-32",children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"Q1",children:"Q1"}),(0,b.jsx)(k.SelectItem,{value:"Q2",children:"Q2"}),(0,b.jsx)(k.SelectItem,{value:"Q3",children:"Q3"}),(0,b.jsx)(k.SelectItem,{value:"Q4",children:"Q4"})]})]})]}),(0,b.jsx)("div",{className:"ml-auto",children:(0,b.jsxs)(c.Badge,{variant:"outline",className:"text-sm",children:["Subject: ",K.subject||K.subjects||K.specialization||"N/A"]})})]}),as?(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("div",{className:"text-xl font-bold text-red-800",children:"Loading grades data..."})}):0===ak.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(w.GraduationCap,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsxs)("p",{className:"text-gray-600 mb-2",children:["No students found for ",ag]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Select a different section or make sure students are enrolled in your classes."})]}):(0,b.jsxs)(b.Fragment,{children:[(J=av(a=K.subject||K.subjects||K.specialization||"Mathematics"),(0,b.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,b.jsxs)("div",{className:"text-sm font-semibold text-blue-900 mb-2",children:["Grading System (",a,"):"]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Written Work: "}),(0,b.jsxs)("span",{className:"text-blue-700",children:[J.writtenWork,"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Performance Tasks: "}),(0,b.jsxs)("span",{className:"text-blue-700",children:[J.performanceTasks,"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Quarterly Assessment: "}),(0,b.jsxs)("span",{className:"text-blue-700",children:[J.quarterlyAssessment,"%"]})]})]})]})),(0,b.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,b.jsxs)(l.Table,{children:[(0,b.jsxs)(l.TableHeader,{children:[(0,b.jsxs)(l.TableRow,{className:"bg-red-800 text-white",children:[(0,b.jsx)(l.TableHead,{className:"text-white font-bold sticky left-0 bg-red-800 z-10 min-w-[150px]",children:"Student Name"}),(0,b.jsx)(l.TableHead,{className:"text-white font-bold sticky left-[150px] bg-red-800 z-10 min-w-[100px]",children:"Student No."}),(0,b.jsxs)(l.TableHead,{colSpan:5,className:"text-white font-bold text-center border-l-2 border-white",children:["Written Work (",av(K.subject||K.subjects||"Mathematics").writtenWork,"%)"]}),(0,b.jsxs)(l.TableHead,{colSpan:5,className:"text-white font-bold text-center border-l-2 border-white",children:["Performance Tasks (",av(K.subject||K.subjects||"Mathematics").performanceTasks,"%)"]}),(0,b.jsxs)(l.TableHead,{className:"text-white font-bold text-center border-l-2 border-white min-w-[120px]",children:["Quarterly Assessment (",av(K.subject||K.subjects||"Mathematics").quarterlyAssessment,"%)"]}),(0,b.jsx)(l.TableHead,{className:"text-white font-bold text-center border-l-2 border-white min-w-[100px]",children:"Final Grade"})]}),(0,b.jsxs)(l.TableRow,{className:"bg-gray-100",children:[(0,b.jsx)(l.TableHead,{className:"sticky left-0 bg-gray-100 z-10"}),(0,b.jsx)(l.TableHead,{className:"sticky left-[150px] bg-gray-100 z-10"}),Array.from({length:5}).map((a,c)=>(0,b.jsxs)(l.TableHead,{className:"text-center text-xs border-l min-w-[80px]",children:["WW",c+1]},`ww-${c}`)),Array.from({length:5}).map((a,c)=>(0,b.jsxs)(l.TableHead,{className:"text-center text-xs border-l min-w-[80px]",children:["PT",c+1]},`pt-${c}`)),(0,b.jsx)(l.TableHead,{className:"text-center text-xs border-l"}),(0,b.jsx)(l.TableHead,{className:"text-center text-xs border-l"})]})]}),(0,b.jsx)(l.TableBody,{children:ak.map(a=>(0,b.jsxs)(l.TableRow,{className:"hover:bg-gray-50",children:[(0,b.jsx)(l.TableCell,{className:"font-medium sticky left-0 bg-white z-10 border-r",children:a.name}),(0,b.jsx)(l.TableCell,{className:"sticky left-[150px] bg-white z-10 border-r",children:a.studentNumber}),a.writtenWork.map((c,d)=>(0,b.jsx)(l.TableCell,{className:"p-0 border-l",children:(0,b.jsx)(h.Input,{type:"number",min:"0",max:"100",step:"0.01",value:c,onChange:b=>ay(a.id,"writtenWork",d,b.target.value),className:"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10",placeholder:"0"})},`ww-${a.id}-${d}`)),a.performanceTasks.map((c,d)=>(0,b.jsx)(l.TableCell,{className:"p-0 border-l",children:(0,b.jsx)(h.Input,{type:"number",min:"0",max:"100",step:"0.01",value:c,onChange:b=>ay(a.id,"performanceTasks",d,b.target.value),className:"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10",placeholder:"0"})},`pt-${a.id}-${d}`)),(0,b.jsx)(l.TableCell,{className:"p-0 border-l",children:(0,b.jsx)(h.Input,{type:"number",min:"0",max:"100",step:"0.01",value:a.quarterlyAssessment,onChange:b=>ay(a.id,"quarterlyAssessment",null,b.target.value),className:"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10",placeholder:"0"})}),(0,b.jsx)(l.TableCell,{className:"text-center font-bold text-red-800 border-l bg-gray-50",children:ax(a)||"-"})]},a.id))})]})}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsxs)(d.Button,{onClick:()=>{if(!K||0===ak.length)return void az({message:"No grades data to export.",type:"warning"});let a=K.subject||K.subjects||"Mathematics",b=av(a),c=ak.map(a=>{let b=ax(a);return[a.studentNumber||"",a.name||"",...a.writtenWork.map(a=>a||""),...a.performanceTasks.map(a=>a||""),a.quarterlyAssessment||"",b||""]}),d=new Blob([[[`Subject: ${a}`],[`Section: ${ag}`],[`Quarter: ${ai}`],[`Grading System: Written Work ${b.writtenWork}%, Performance Tasks ${b.performanceTasks}%, Quarterly Assessment ${b.quarterlyAssessment}%`],[],["Student Number","Student Name","WW1","WW2","WW3","WW4","WW5","PT1","PT2","PT3","PT4","PT5","Quarterly Assessment","Final Grade"],...c].map(a=>a.map(a=>`"${String(a).replace(/"/g,'""')}"`).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),e=document.createElement("a"),f=URL.createObjectURL(d);e.setAttribute("href",f),e.setAttribute("download",`Grades_${a.replace(/\s+/g,"_")}_${ag}_${ai}_${new Date().toISOString().split("T")[0]}.csv`),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e)},variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-50",children:[(0,b.jsx)(v.Download,{className:"w-4 h-4 mr-2"}),"Export to CSV"]}),(0,b.jsx)(d.Button,{onClick:aB,disabled:am,className:"bg-red-800 hover:bg-red-900",children:am?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D.Save,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D.Save,{className:"w-4 h-4 mr-2"}),"Save Grades"]})})]})]})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(w.GraduationCap,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Please log in to manage grades."})]})})]})}),(0,b.jsx)(m.TabsContent,{value:"journal",className:"space-y-6",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.CardTitle,{className:"text-red-800",children:"Teaching Journal"}),(0,b.jsx)(f.CardDescription,{children:"Record your daily teaching activities and observations"})]}),(0,b.jsxs)(g.Dialog,{open:aa,onOpenChange:ab,children:[(0,b.jsx)(g.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{className:"bg-red-800 hover:bg-red-700",children:[(0,b.jsx)(C,{className:"w-4 h-4 mr-2"}),"Add Entry"]})}),(0,b.jsxs)(g.DialogContent,{className:"max-w-2xl",children:[(0,b.jsxs)(g.DialogHeader,{children:[(0,b.jsx)(g.DialogTitle,{children:"Add Journal Entry"}),(0,b.jsx)(g.DialogDescription,{children:"Record your teaching activities for today"})]}),(0,b.jsxs)("form",{onSubmit:aH,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"journal-date",children:"Date"}),(0,b.jsxs)(j.Popover,{modal:!0,children:[(0,b.jsx)(j.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{variant:"outline",id:"journal-date",className:"justify-between font-normal",type:"button",children:[$.date?new Date($.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Select date",(0,b.jsx)(t.ChevronDownIcon,{className:"h-4 w-4 opacity-50"})]})}),(0,b.jsx)(j.PopoverContent,{className:"w-auto overflow-hidden p-0 z-[9999]",align:"start",children:(0,b.jsx)(e.Calendar,{mode:"single",selected:$.date?new Date($.date):void 0,captionLayout:"dropdown",onSelect:a=>{if(a){let b=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");_({...$,date:`${b}-${c}-${d}`})}}})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"subject",children:"Subject"}),(0,b.jsxs)(k.Select,{onValueChange:a=>_({...$,subject:a}),children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select subject"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"mathematics",children:"Mathematics"}),(0,b.jsx)(k.SelectItem,{value:"science",children:"Science"}),(0,b.jsx)(k.SelectItem,{value:"english",children:"English"}),(0,b.jsx)(k.SelectItem,{value:"filipino",children:"Filipino"})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"topic",children:"Topic/Lesson"}),(0,b.jsx)(h.Input,{id:"topic",value:$.topic,onChange:a=>_({...$,topic:a.target.value}),placeholder:"Enter the lesson topic",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"activities",children:"Activities Conducted"}),(0,b.jsx)(n.Textarea,{id:"activities",value:$.activities,onChange:a=>_({...$,activities:a.target.value}),placeholder:"Describe the activities and methods used",rows:3,required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"notes",children:"Notes & Observations"}),(0,b.jsx)(n.Textarea,{id:"notes",value:$.notes,onChange:a=>_({...$,notes:a.target.value}),placeholder:"Student responses, challenges, improvements needed, etc.",rows:3})]}),(0,b.jsx)(d.Button,{type:"submit",className:"w-full bg-red-800 hover:bg-red-700",children:"Save Entry"})]})]})]})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:aq.length>0?(0,b.jsx)("div",{className:"space-y-4",children:aq.map(a=>(0,b.jsxs)(f.Card,{className:"border-l-4 border-l-red-800",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)(f.CardTitle,{className:"text-lg text-red-800",children:a.topic}),(0,b.jsxs)(f.CardDescription,{children:[a.subject," • ",new Date(a.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})})}),(0,b.jsxs)(f.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{className:"text-sm font-semibold text-gray-700",children:"Activities Conducted:"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.activities})]}),a.notes&&(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{className:"text-sm font-semibold text-gray-700",children:"Notes & Observations:"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.notes})]})]})]},a.id))}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(r.BookOpen,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"No journal entries yet."}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:'Click "Add Entry" to create your first journal entry.'})]})})})]})}),(0,b.jsx)(m.TabsContent,{value:"settings",className:"space-y-6",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{className:"text-red-800",children:"Settings"}),(0,b.jsx)(f.CardDescription,{children:"Manage your account settings and preferences"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(E.Settings,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"Settings panel will be available here."}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Configure your account preferences and notification settings."})]})})})]})}),(0,b.jsx)(m.TabsContent,{value:"logout",className:"space-y-6",children:(0,b.jsx)(f.Card,{className:"text-center py-12",children:(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)(A.LogOut,{className:"w-16 h-16 text-red-800 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-red-800 mb-4",children:"Logout Confirmation"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to log out of the Teacher Portal?"}),(0,b.jsxs)("div",{className:"space-x-4",children:[(0,b.jsx)(d.Button,{onClick:aG,className:"bg-red-800 hover:bg-red-700",children:"Yes, Log Out"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>X("dashboard"),children:"Cancel"})]})]})})})]})})]})}a.s(["default",()=>J],49405)}];

//# sourceMappingURL=app_teacher_page_tsx_e6bb8d9b._.js.map